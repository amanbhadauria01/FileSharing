(self.webpackChunklite=self.webpackChunklite||[]).push([[702],{54415:(e,n,t)=>{"use strict";t.d(n,{v:()=>c,G:()=>d});var l=t(28655),r=t.n(l),o=t(71439),i=t(67294),a=t(73882),s=t(98281);function u(){var e=r()(["\n  fragment PublisherAvatar_publisher on Publisher {\n    __typename\n    ... on Collection {\n      id\n      ...CollectionAvatar_collection\n    }\n    ... on User {\n      id\n      ...UserAvatar_user\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}var c=(0,o.Ps)(u(),a.d,s.WQ),d=function(e){var n=e.link,t=void 0!==n&&n,l=e.scale,r=void 0===l?"M":l,o=e.publisher;switch(o.__typename){case"User":return i.createElement(s.Yt,{link:t,scale:r,user:o});case"Collection":return i.createElement(a.v,{link:t,size:s.wC[r],collection:o});default:return null}}},97297:(e,n,t)=>{"use strict";t.d(n,{gp:()=>f,DX:()=>p,b5:()=>v});var l=t(28655),r=t.n(l),o=t(71439),i=t(67294),a=t(53976),s=t(82318),u=t(98024),c=t(27390),d=t(27952);function m(){var e=r()(["\n  fragment PublisherFollowingCount_publisher on Publisher {\n    __typename\n    id\n    ... on User {\n      socialStats {\n        followingCount\n        collectionFollowingCount\n      }\n      followedCollections\n      username\n    }\n  }\n"]);return m=function(){return e},e}var f=function(e){var n,t,l,r,o=(0,a.V)({name:"enable_fix_follow_counts",placeholder:!1}),i=null!==(n="Collection"===e.__typename?0:(null===(t=e.socialStats)||void 0===t?void 0:t.followingCount)+e.followedCollections)&&void 0!==n?n:0;return o&&"User"===e.__typename&&(i=(null===(l=e.socialStats)||void 0===l?void 0:l.followingCount)+(null===(r=e.socialStats)||void 0===r?void 0:r.collectionFollowingCount)),{followingCount:i,isFollowingCountVisible:i>0}},p=function(e){var n,t=e.publisher,l=e.linkStyle,r=void 0===l?"SUBTLE":l,o=f(t),a=o.followingCount,m=o.isFollowingCountVisible,p="User"===t.__typename?(0,d.MzF)(null!==(n=t.username)&&void 0!==n?n:""):"",v=!!p;if(!m)return null;var g="".concat((0,c.pY)(a)," Following");return v?i.createElement(s.r,{linkStyle:r,href:p},g):i.createElement(u.F,{tag:"span",scale:"L",color:"DARKER"},g)},v=(0,o.Ps)(m())},78886:(e,n,t)=>{"use strict";t.d(n,{KL:()=>N,mK:()=>V,rF:()=>$,Lk:()=>j,eB:()=>z,qy:()=>Y,FB:()=>H});var l=t(28655),r=t.n(l),o=t(59713),i=t.n(o),a=t(63038),s=t.n(a),u=t(46829),c=t(71439),d=t(67294),m=t(54415),f=t(97297),p=t(44935),v=t(53976),g=t(76532),b=t(68421),h=t(41832),E=t(42933),y=t(82318),S=t(52862),w=t(98024),_=t(18579),x=t(95760),I=t(51512),B=t(6688),C=t(19551),O=t(14391),L=t(67297),F=t(27390),P=t(27952);function T(){var e=r()(["\n  query PublisherSidebarFollowsQuery($userId: ID!, $limit: Int) {\n    userFollows(userId: $userId, limit: $limit) {\n      ... on User {\n        hasDomain\n        ...UserMentionTooltip_user\n        ...PublisherSidebarFollows_followedEntity\n      }\n      ... on Collection {\n        ...CollectionTooltip_collection\n        ...PublisherSidebarFollows_followedEntity\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return T=function(){return e},e}function D(){var e=r()(["\n  fragment PublisherSidebarFollows_followedEntity on Publisher {\n    __typename\n    id\n    name\n    ...PublisherAvatar_publisher\n  }\n  ","\n"]);return D=function(){return e},e}function k(){var e=r()(["\n  fragment PublisherSidebarFollows_user on User {\n    id\n    name\n    username\n    ...PublisherFollowingCount_publisher\n    ...userUrl_user\n  }\n  ","\n  ","\n"]);return k=function(){return e},e}function U(){var e=r()(["\n  fragment PublisherSidebarFollows_customStyleSheet on CustomStyleSheet {\n    id\n    blogroll {\n      visibility\n    }\n  }\n"]);return U=function(){return e},e}function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){i()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var G,N=function(e){var n;return{isBlogrollInSidebar:(null==e||null===(n=e.blogroll)||void 0===n?void 0:n.visibility)===O.n$.BLOGROLL_VISIBILITY_SIDEBAR}},V=function(e,n){var t,l=(0,g.H)().value,r="User"===e.__typename&&e.id===(null==l?void 0:l.id),o=(null==n||null===(t=n.blogroll)||void 0===t?void 0:t.visibility)===O.n$.BLOGROLL_VISIBILITY_SIDEBAR,i=!(null==l||!l.dismissableFlags.includes(O.T3.BLOGROLL_ENABLE));return{useGhostBlogroll:r&&!i&&!o}},$=function(e){var n,t=(0,v.V)({name:"enable_default_blogrolls_on",placeholder:!1}),l=null==e||null===(n=e.blogroll)||void 0===n?void 0:n.visibility,r=!l||l===O.n$.BLOGROLL_VISIBILITY_UNSET;return{shouldShowBlogroll:!(!t||!r)}},j=d.createContext({homepageUserId:null,postId:null});!function(e){e[e.Initial=0]="Initial",e[e.Secondary=1]="Secondary",e[e.Dismissed=2]="Dismissed",e[e.Navigating=3]="Navigating",e[e.Updated=4]="Updated"}(G||(G={}));var W=function(e){return{backgroundColor:e.backgroundColor,position:"absolute",height:"100%",width:"100%",opacity:".65"}},z=function(e){var n,t,l=e.publisher,r=e.isVisible,o=e.customStyleSheet,i=e.withBottomBorder,a=void 0!==i&&i,c=(0,B.I)(),T=(0,g.H)().value,D=(0,L.v9)((function(e){return e.config.authDomain})),k=(0,L.p9)((function(e){return e.config.isAmp})),U=(0,L.v9)((function(e){return e.navigation.currentLocation})),R=(0,P.MzF)(null!==(n=l.username)&&void 0!==n?n:""),N=d.useState(G.Initial),z=s()(N,2),Y=z[0],H=z[1],M=(0,_.n)({name:"detail",scale:"S",clamp:1,leadingTrim:!1,color:"LIGHTER"}),K=(0,v.V)({name:"enable_default_blogrolls_on",placeholder:!1}),q=c([M,{wordBreak:"break-all"}]),Q="User"===l.__typename&&l.id===(null==T?void 0:T.id),J=(null==o||null===(t=o.blogroll)||void 0===t?void 0:t.visibility)===O.n$.BLOGROLL_VISIBILITY_SIDEBAR,Z=$(o).shouldShowBlogroll,ee=V(l,o).useGhostBlogroll,ne=!K&&ee,te=!K&&Q&&J&&!(null!=T&&T.dismissableFlags.includes(O.T3.BLOGROLL_UPDATE)),le=Z&&Q&&!Y,re=J?O.T3.BLOGROLL_UPDATE:O.T3.BLOGROLL_ENABLE,oe=(0,x.Av)(),ie=d.useContext(j),ae=(0,C.g)({onPresentedFn:function(){return oe.event("sidebar.blogrollViewed",A(A({},ie),{},{viewerIsAuthor:Q,showingGhost:ne}))}}),se=(0,u.useLazyQuery)(X,{ssr:!1,variables:{userId:l.id,limit:5}}),ue=s()(se,2),ce=ue[0],de=ue[1],me=de.called,fe=de.loading,pe=de.error,ve=de.data,ge=(ve=void 0===ve?{userFollows:void 0}:ve).userFollows,be=(0,f.gp)(l).followingCount,he=d.useCallback((function(e){return function(){var n=Y===G.Initial?"Blogrolls help your readers discover writers you follow. Writers who have published most recently show up at the top.":"You can always turn on blogroll in your design editor. Until then, readers can get to your Following from the About page.";te&&(n="Your blogroll no longer includes publications, only writers who have published recently.");var t=function(n,t){H(n),e(t)};return d.createElement(E.x,{minWidth:"240px",padding:"20px"},d.createElement(w.F,{scale:"S"},te&&d.createElement("b",null,"Update: "),n),d.createElement(E.x,{marginTop:"20px"},d.createElement(w.F,{scale:"S"},le?d.createElement(y.r,{linkStyle:"OBVIOUS",onClick:function(){t(G.Dismissed,b.$S.DISMISSED)}},"Got it"):d.createElement(d.Fragment,null,Y||te?d.createElement(y.r,{linkStyle:"OBVIOUS",onClick:function(){return t(G.Dismissed,b.$S.DISMISSED)}},"Got it"):d.createElement(d.Fragment,null,d.createElement(y.r,{linkStyle:"OBVIOUS",href:(0,P.aLX)(D,{unfold:"Blogroll",action:"enableBlogroll"}),onClick:function(){return t(G.Navigating,b.$S.CTA)}},"Turn on"),d.createElement("span",{className:c({marginLeft:"8px"})},d.createElement(y.r,{linkStyle:"SUBTLE",onClick:function(){return H(G.Secondary)}},"Not now")))))))}}),[Y]);return Z||!k&&(ne||J)&&(Y!==G.Dismissed||te)?me?fe||pe||!ge||!ge.length||be<5?null:d.createElement(I.cW,{source:{name:"blogrolls_sidebar",postId:ie.postId||void 0}},d.createElement(E.x,{ref:ae,position:"relative",borderTop:"BASE_LIGHTER",borderBottom:a?"NONE":void 0},ne?d.createElement("div",{className:c([W])}):null,d.createElement(E.x,{marginTop:"32px",marginBottom:"32px"},d.createElement(b.oP,{flag:re,isVisible:r&&(ne||te||le),targetDistance:15,renderFn:he},d.createElement("span",{className:c({textTransform:"uppercase",marginBottom:"8px"})},d.createElement(w.F,{scale:"S",tag:"span"},"".concat(l.name," Follows"))),d.createElement("ul",{className:c({marginTop:"8px"})},ge.map((function(e){var n="User"===e.__typename?(0,P.AWr)(e,D):(0,P.WGd)(e,U,D);return d.createElement("li",{className:c({display:"grid",gridTemplateColumns:"auto 1fr auto"}),key:null==e?void 0:e.id},d.createElement(E.x,{paddingRight:"12px"},d.createElement(m.G,{link:!0,publisher:e,scale:"XXXS"})),d.createElement("section",{className:c({wordBreak:"break-word"})},d.createElement(E.x,{marginBottom:"8px",paddingRight:"10px",tag:"span"},d.createElement(y.r,{href:n},d.createElement(S.$,{placement:"right",targetDistance:15,mouseEnterDelay:500,mouseLeaveDelay:0,noPortal:!1,disablePortalOverlay:!0,role:"tooltip",popoverRenderFn:function(){return"User"===e.__typename?d.createElement(h.K$,{user:e}):d.createElement(p.L,{collection:e,buttonSize:"COMPACT",buttonStyleFn:function(e){return e?"OBVIOUS":"STRONG"}})}},d.createElement("h4",{className:q},e.name))))))}))),d.createElement(w.F,{scale:"S"},d.createElement(y.r,{linkStyle:"SUBTLE",href:R},"See all (".concat((0,F.rR)(be),")"))))))):(ce(),null):null},Y=(0,c.Ps)(U()),H=(0,c.Ps)(k(),f.b5,P.$mN),M=(0,c.Ps)(D(),m.v),X=(0,c.Ps)(T(),h.OJ,p.g,M)},34793:(e,n,t)=>{"use strict";t.d(n,{$:()=>d,G:()=>m});var l=t(28655),r=t.n(l),o=t(71439),i=t(67294),a=t(12598),s=t(42933),u=t(90038);function c(){var e=r()(["\n  fragment SidebarProfilePic_user on User {\n    id\n    imageId\n  }\n"]);return c=function(){return e},e}var d=function(e){var n=e.user;return n.imageId?i.createElement(s.x,{marginBottom:"24px",maxHeight:"131px",maxWidth:"131px",overflow:"hidden"},i.createElement(a.E,{src:(0,u.W6)({miroId:n.imageId,width:131,height:131,strategy:u._S.Crop}),width:131})):null},m=(0,o.Ps)(c())},44935:(e,n,t)=>{"use strict";t.d(n,{L:()=>f,g:()=>p});var l=t(28655),r=t.n(l),o=t(71439),i=t(67294),a=t(73882),s=t(84783),u=t(42933),c=t(37278),d=t(98024);function m(){var e=r()(["\n  fragment CollectionTooltip_collection on Collection {\n    id\n    name\n    description\n    subscriberCount\n    ...CollectionAvatar_collection\n    ...CollectionFollowButton_collection\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}var f=function(e){var n=e.collection,t=e.buttonSize,l=e.buttonStyleFn,r=n.name,o=n.description;return i.createElement(u.x,{padding:"15px",display:"flex",flexDirection:"column",width:"300px"},i.createElement(u.x,{display:"flex",flexDirection:"row",justifyContent:"space-between",whiteSpace:"normal",borderBottom:"BASE_LIGHTER",paddingBottom:"10px",marginBottom:"10px"},i.createElement(u.x,{display:"flex",flexDirection:"column",paddingRight:"5px"},i.createElement(c.X6,{scale:"S"},r),i.createElement(d.F,{scale:"S"},o)),i.createElement(u.x,null,i.createElement(a.v,{collection:n,link:!0}))),i.createElement(u.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(d.F,{scale:"M"},"Followed by ",n.subscriberCount," people"),i.createElement(s.Fp,{collection:n,simpleButton:!0,buttonSize:t,buttonStyleFn:l,susiEntry:"follow_card"})))},p=(0,o.Ps)(m(),a.d,s.Iq)},51684:(e,n,t)=>{"use strict";t.d(n,{ZR:()=>p,HX:()=>g,b2:()=>b,hE:()=>h});var l=t(59713),r=t.n(l),o=t(67294),i=t(28859),a=t(43689),s=t(30027),u=t(42933),c=t(6688),d=t(27108),m=t(89349),f=t(21146),p=131,v=function(e){return{pointerEvents:e?"auto":"none"}},g=function(e){var n=e.children,t=e.disableTransition,l=e.isFixed,d=e.scrollableRef,f=e.sidebarRef,g=e.testId,b=e.topOffset,h=e.visible,E=e.fixedWidth,y=e.extraWide,S=void 0!==y&&y,w=(0,c.I)(),_=function(e){var n,t,l,s=e.isFixed,u=void 0===s||s,c=e.disableTransition,d=void 0!==c&&c,f=e.scrollableRef,p=e.topOffset,v=e.visible,g=e.fixedWidth,b=e.extraWide,h=void 0!==b&&b,E=(l=null===(n=o.useContext(i.u6).watchedBounds.get("header"))||void 0===n||null===(t=n.ref)||void 0===t?void 0:t.current)?l.offsetTop+l.offsetHeight+64:a.Je+54+40;return function(e){return function(n){var t,l=h?"@media all and (max-width: 1240px)":(0,m.uc)(n,e,n.grid.xStep*n.grid.marginSteps.lg,f&&"current"in f?f.current:null),o=void 0===p?E:p;return t={opacity:v?1:0,pointerEvents:"none",position:u?"fixed":"absolute",willChange:"opacity, transform",width:g?"".concat(g,"px"):"100%",transform:"translateY(".concat(o,"px)"),top:0},r()(t,(0,m.nk)("no-preference"),{transition:d?"opacity 0s":"opacity 200ms"}),r()(t,l,{display:"none"}),t}}}({isFixed:l,scrollableRef:d,topOffset:b,visible:h,disableTransition:t,fixedWidth:E,extraWide:S}),x=S?197:p;return o.createElement("div",{className:w(_(x)),"data-test-id":g},o.createElement(s.P,{size:"outset"},o.createElement(u.x,{display:"flex",flexDirection:"column",width:"".concat(x,"px"),ref:f},o.createElement("div",{className:w(v(h))},n))))},b=function(e,n,t,l){var r=e.current;if(!r)return!1;var o=l.threshold||10,i=Array.from(n.values()).filter((function(e){var n,l=e.ref,r=e.opts;return t.includes(null!==(n=r.type)&&void 0!==n?n:"")&&!!l.current})).map((function(e){var n=e.ref,t=e.opts,l=t&&t.offset,r=(0,f.L6)(n.current);return(0,f.Dd)(r,l)})),a=(0,f.L6)(r),s=0===a.width;return!i.some((function(e){return(0,f.kK)(e,a,o)}))&&!s},h=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=t?"scroll_throttled":"scroll";return function(){var t=(0,d.jC)(null!=n?n:void 0);return t.on(l,e),t.on("scroll_end",e),t.on("resize_throttled",e),function(){t.off(l,e),t.off("scroll_end",e),t.off("resize_throttled",e)}}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/702.310bad91.chunk.js.map