(self.webpackChunklite=self.webpackChunklite||[]).push([[9595],{33336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("path",{d:"M17.4 7s2.64 3.56 0 6.88M15 8.56s1.6 2.38 0 4.4"})),a=r.createElement("path",{d:"M11.9 3.01a.19.19 0 0 0-.19.04L6.47 7.7H3.2c-.09 0-.21.06-.21.14v5.28c0 .08.12.3.21.3h3.14L11.72 18h.18a.17.17 0 0 0 .1-.15V3.14a.14.14 0 0 0-.1-.14z"});const l=function(e){return r.createElement("svg",o({width:21,height:21},e),i,a)}},53690:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46A8.2 8.2 0 0 1 19 10.5c0 2.39-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.3 0-4.3-.83-5.98-2.5C2.84 14.82 2 12.83 2 10.5s.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zm.03 1.53c-1.93 0-3.56.68-4.9 2.04a6.84 6.84 0 0 0-.01 9.82 6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.69 4.94-2.07a6.47 6.47 0 0 0 2-4.87c0-1.93-.67-3.57-2.03-4.93a6.72 6.72 0 0 0-4.91-2.03zM12.8 8.4v3.48h-.97v4.12H9.18v-4.12h-.97V8.39A.53.53 0 0 1 8.37 8a.53.53 0 0 1 .39-.16h3.49c.14 0 .27.06.38.16a.52.52 0 0 1 .16.39zM9.32 6.2c0-.8.39-1.2 1.18-1.2.79 0 1.18.4 1.18 1.2 0 .8-.4 1.19-1.18 1.19-.79 0-1.18-.4-1.18-1.18z",fillRule:"evenodd"});const a=function(e){return r.createElement("svg",o({width:21,height:21},e),i)}},78271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46C18.18 6.1 19 8.11 19 10.5s-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.31 0-4.3-.84-5.98-2.52A8.16 8.16 0 0 1 2 10.5c0-2.33.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zM3.91 8.2a6.68 6.68 0 0 0-.38 2.3c0 1.88.7 3.51 2.07 4.89a6.77 6.77 0 0 0 4.92 2.05c1.9 0 3.56-.7 4.94-2.08a6.2 6.2 0 0 0 1.17-1.5l-3.2-1.42c-.1.54-.38.98-.8 1.32a2.8 2.8 0 0 1-1.53.58v1.3h-.98v-1.3a3.95 3.95 0 0 1-2.58-1.02l1.16-1.18c.56.51 1.19.77 1.9.77.3 0 .54-.07.75-.2.2-.13.31-.35.31-.65a.66.66 0 0 0-.23-.52l-.82-.35-1-.45-1.35-.6L3.92 8.2zm6.6-4.68a6.6 6.6 0 0 0-4.9 2.05 8 8 0 0 0-.94 1.14l3.25 1.45c.14-.44.41-.8.8-1.07a2.68 2.68 0 0 1 1.39-.44V5.33h.98v1.3c.78.04 1.49.3 2.13.8L12.1 8.56c-.48-.33-.96-.5-1.46-.5-.26 0-.5.05-.7.15-.21.1-.31.28-.31.52 0 .07.02.14.07.2l1.08.49.75.33 1.37.6 4.36 1.94c.14-.6.22-1.21.22-1.83 0-1.95-.67-3.6-2.03-4.93a6.64 6.64 0 0 0-4.92-2.05z",fillRule:"evenodd"});const a=function(e){return r.createElement("svg",o({width:21,height:21},e),i)}},50344:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6 8.3 8.3 0 0 1 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.78 6.78 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.91 2.06c1.9 0 3.55-.69 4.95-2.07a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.9a6.67 6.67 0 0 0-4.91-2.06zm3.2 4.97v1.45H7.55V8.5h6.18zm0 2.73v1.45H7.55v-1.45h6.18z",fillRule:"evenodd"});const a=function(e){return r.createElement("svg",o({width:21,height:21},e),i)}},8969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6c0-2.32.83-4.33 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.79 6.79 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.7 4.94-2.08a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.92a6.64 6.64 0 0 0-4.91-2.05zM6.72 9.3a3.8 3.8 0 0 1 1.26-2.42 3.7 3.7 0 0 1 2.47-.86c1.34 0 2.4.43 3.2 1.3a4.7 4.7 0 0 1 1.18 3.3c0 1.3-.41 2.4-1.23 3.26a4.2 4.2 0 0 1-3.2 1.3 3.8 3.8 0 0 1-2.48-.87 3.7 3.7 0 0 1-1.26-2.46H8.8c.05 1.03.67 1.55 1.87 1.55.6 0 1.08-.26 1.44-.78.36-.52.54-1.21.54-2.07 0-.9-.17-1.6-.5-2.06a1.68 1.68 0 0 0-1.45-.71c-1.14 0-1.77.5-1.92 1.5h.62l-1.68 1.68-1.68-1.68h.66z",fillRule:"evenodd"});const a=function(e){return r.createElement("svg",o({width:21,height:21},e),i)}},45957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("g",{fillRule:"evenodd"},r.createElement("path",{d:"M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"}),r.createElement("path",{d:"M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"}));const a=function(e){return r.createElement("svg",o({width:21,height:21},e),i)}},88703:(e,t,n)=>{"use strict";n.d(t,{gZ:()=>u,t$:()=>m,F8:()=>d,b0:()=>p});var r=n(28655),o=n.n(r),i=n(71439),a=n(81474),l=n(32589);function c(){var e=o()(["\n  fragment useShowAuthorNewsletterV3Promo_post on Post {\n    id\n    collection {\n      id\n    }\n    creator {\n      ...useShowAuthorNewsletterV3Promo_user\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function s(){var e=o()(["\n  fragment useShowAuthorNewsletterV3Promo_user on User {\n    id\n    username\n    newsletterV3 {\n      id\n      showPromo\n      slug\n    }\n  }\n"]);return s=function(){return e},e}var u=function(e){var t=e.collection,n=e.creator,r=m(n);return!t&&n&&r},m=function(e){var t,n,r=(0,l.P)(null==e?void 0:e.id),o=r.viewerEdge,i=r.loading,c=(0,a.T)({newsletterSlug:null==e||null===(t=e.newsletterV3)||void 0===t?void 0:t.slug,username:null==e?void 0:e.username}),s=c.viewerEdge,u=c.loading;return!(null==e||null===(n=e.newsletterV3)||void 0===n||!n.showPromo||i||u||!(null!=o&&o.isUser||null!=o&&o.isFollowing&&(null==s||!s.isSubscribed)))},d=(0,i.Ps)(s()),p=(0,i.Ps)(c(),d)},82108:(e,t,n)=>{"use strict";n.d(t,{_:()=>s,P:()=>u});var r=n(28655),o=n.n(r),i=n(71439),a=n(73891),l=n(81474);function c(){var e=o()(["\n  fragment useShowCollectionNewsletterV3Promo_collection on Collection {\n    id\n    slug\n    newsletterV3 {\n      slug\n      showPromo\n    }\n  }\n"]);return c=function(){return e},e}var s=function(e){var t=(e||{}).newsletterV3,n=(0,a.g)(null==e?void 0:e.id),r=n.viewerEdge,o=n.loading,i=(0,l.T)({newsletterSlug:null==t?void 0:t.slug,collectionSlug:null==e?void 0:e.slug}),c=i.viewerEdge,s=i.loading;return!(null==t||!t.showPromo||o||s||!(null!=r&&r.isEditor||null==c)&&c.isSubscribed)},u=(0,i.Ps)(c())},25448:(e,t,n)=>{"use strict";n.d(t,{PY:()=>p});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(12291),c=n(10515),s=n(51512),u=n(6688),m=n(81952);function d(){var e=o()(["\n  fragment EmbeddedPost_post on Post {\n    id\n    tags {\n      ...TagList_tags\n    }\n    topics {\n      topicId\n      name\n    }\n  }\n"]);return d=function(){return e},e}(0,i.Ps)(d());var p=(0,l.$j)((function(e){return{embedPostRules:e.config.embedPostRules}}))((function(e){var t=e.postId,n=e.sourcePost,r=e.embedPostRules,o=t||n&&function(e,t){var n;return e?(t.map((function(t){var r,o;return n||((null!==(r=e.topics)&&void 0!==r&&r.some((function(e){var n,r;return!(null==t||null===(n=t.topics)||void 0===n||!n.includes((null==e||null===(r=e.name)||void 0===r?void 0:r.toLowerCase())||""))}))||null!==(o=e.tags)&&void 0!==o&&o.some((function(e){var n,r;return!(null==t||null===(n=t.tags)||void 0===n||!n.includes((null==e||null===(r=e.id)||void 0===r?void 0:r.toLowerCase())||""))})))&&(n=t.embedPostId),n)})),n):n}(n,r);return o?a.createElement(m.T,{postId:o},(function(e){var t=(0,u.I)();return e?a.createElement(c.M.Provider,{value:!0},a.createElement(s.cW,{source:{name:"embedded_post"}},a.createElement("div",{className:t({padding:{xs:"16px 0",sm:"16px 0",md:"18px 0",lg:"24px 0",xl:"32px 0"},marginBottom:"25px"})},e))):null})):null}))},55253:(e,t,n)=>{"use strict";n.d(t,{mV:()=>$e,Xc:()=>Xe,Z3:()=>Ge});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(12291),c=n(63038),s=n.n(c),u=n(59713),m=n.n(u),d=n(42933),p=n(98024),g=n(6688),f=n(99701),E={"0%":{visibility:"hidden"},"1%":{visibility:"visible",opacity:0},"100%":{opacity:1}},v={"0%":{opacity:1,visibility:"visible"},"99%":{opacity:0},"100%":{visibility:"hidden"}},x=function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1,height:"2px",cursor:"pointer",":focus":{outline:"1px dotted ".concat(e.baseColor.fill.normal)}}},h=function(e){return{backgroundColor:e.baseColor.fill.normal,position:"relative",marginLeft:"-5px",height:"10px",width:"10px",borderRadius:"50%",cursor:"pointer"}};function b(e){var t=~~(e%60);return[~~(e/60),t<10?"0"+t:t].join(":")}var P=function(e){var t=e.duration,n=e.elapsed,r=e.isProgressBeanVisible,o=e.onEnter,i=e.onLeave,l=e.onProgressBeanAnimationEnd,c=e.onTimeUpdate,s=e.shouldProgressBeanAnimate,u=(0,g.I)(),m=(0,f.o)({fadeInKeyframesName:E,fadeOutKeyframesName:v}),P=m.fadeInKeyframesName,y=m.fadeOutKeyframesName,_=a.useRef(null),w=n&&t?Math.max(0,Math.min(n/t*100,100)):0,I={left:"".concat(w,"%"),opacity:r?1:0},C=a.useCallback((function(e){var n=e.pageX,r=document.getElementById("audio-player-progress-bar"),o=n-(r.getBoundingClientRect().left+window.scrollX);return t/r.offsetWidth*o}),[t]),S=a.useCallback((function(e){function t(e){c(C(e))}0===e.button&&(c(C(e)),document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)})))}),[C,i,c]),L=a.useCallback((function(e){"ArrowLeft"===e.key?c(Math.max(n-5,0)):"ArrowRight"===e.key&&c(Math.min(n+5,t))}),[n,t,c]),k=a.useCallback((function(){document.activeElement!==_.current&&i()}),[null==_?void 0:_.current,i]),T=[h,I];return s&&T.push({animation:"".concat(r?P:y," .2s ease-in-out forwards")}),a.createElement(d.x,{display:"flex",alignItems:"center"},a.createElement(d.x,{width:"28px",marginRight:"12px",textAlign:"left"},a.createElement(p.F,{scale:"M"},n?b(n):"--:--")),a.createElement("div",{className:u([x,function(e){return{background:"linear-gradient(to right, ".concat(e.baseColor.fill.normal," ").concat(w,"%, ").concat(e.baseColor.background.normal," 0)")}}]),id:"audio-player-progress-bar",role:"slider",ref:_,"aria-valuemin":0,"aria-valuemax":t,"aria-valuenow":n,tabIndex:0,onMouseDown:S,onFocus:o,onBlur:k,onKeyDown:L,onMouseEnter:o,onMouseLeave:k},a.createElement("div",{className:u(T),onAnimationEnd:l})),a.createElement(d.x,{width:"28px",marginLeft:"12px",textAlign:"right"},a.createElement(p.F,{scale:"M"},t?b(t):"--:--")))},y=n(95760);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=a.createElement("g",{transform:"translate(5 4)",fillRule:"evenodd"},a.createElement("rect",{width:6,height:17,rx:2}),a.createElement("rect",{x:9,width:6,height:17,rx:2}));const I=function(e){return a.createElement("svg",_({width:25,height:25},e),w)};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=a.createElement("path",{d:"M7 4v17.03a.5.5 0 0 0 .8.4l11.1-8.1a1 1 0 0 0 0-1.62L7.8 3.6A.5.5 0 0 0 7 4z"});const L=function(e){return a.createElement("svg",C({width:25,height:25},e),S)};var k=function(e){return{borderRadius:"4px",padding:"8px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{cursor:"pointer",color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker}}},T=function(e){var t=e.dispatch,n=e.postId,r=e.isPlaying,o=(0,g.I)(),i=(0,y.Av)(),l=a.useCallback((function(){var e=document.getElementById("audio-player");r?(i.event("audio.end",{postId:n}),e.pause(),t({type:"pause"})):(i.event("audio.start",{postId:n}),e.play(),t({type:"play"}))}),[r]);return a.createElement("button",{onClick:l,className:o(k)},r?a.createElement(I,null):a.createElement(L,null))},A=n(89423),O=n(62876),M=n(54389),R=n(51512),B=n(96907),N=n(33336);function F(){var e=o()(["\n  fragment AudioPlayback_post on Post {\n    id\n    audioVersionUrl\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...UpsellClickable_post\n  }\n  ","\n"]);return F=function(){return e},e}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={duration:0,elapsed:0,playing:!1},V=function(e,t){switch(t.type){case"load":return H(H({},e),{},{duration:t.duration});case"play":return H(H({},e),{},{playing:!0});case"pause":return H(H({},e),{},{playing:!1});case"seek":return H(H({},e),{},{elapsed:t.clickedTime});case"progress":return H(H({},e),{},{elapsed:t.elapsed});case"end":return H(H({},e),{},{playing:!1});default:return e}},U=function(e){var t=e.postId,n=e.audioVersionUrl,r=a.useReducer(V,j),o=s()(r,2),i=o[0],l=o[1],c=i.duration,u=i.elapsed,m=i.playing,g=a.useState(!1),f=s()(g,2),E=f[0],v=f[1],x=a.useState(!1),h=s()(x,2),b=h[0],y=h[1],_=a.useCallback((function(){v((function(e){return y(!!e),!1}))}),[]),w=a.useCallback((function(){v((function(e){return y(!e),!0}))}),[]);return a.useEffect((function(){var e=document.getElementById("audio-player");function t(){l({type:"load",duration:e.duration})}function n(){l({type:"progress",elapsed:e.currentTime})}function r(){l({type:"end"})}return e.addEventListener("canplay",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",r),function(){e.removeEventListener("canplay",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",r)}}),[]),a.useEffect((function(){var e=document.getElementById("audio-player");Math.round(u)!==Math.round(e.currentTime)&&document.hasFocus()&&(e.currentTime=u)}),[u]),a.createElement(d.x,{display:"flex",justifyContent:"center",margin:"20px 0"},a.createElement("audio",{id:"audio-player"},a.createElement("source",{src:n})),a.createElement(d.x,{display:"flex",alignItems:"center",flexGrow:"1"},a.createElement(d.x,{marginRight:"16px"},a.createElement(T,{dispatch:l,postId:t,isPlaying:m})),a.createElement(d.x,{display:"flex",flexDirection:"column",flexGrow:"1"},a.createElement(p.F,{scale:"M",color:"DARKER"},"Listen to this story"),a.createElement(P,{elapsed:u,duration:c,isProgressBeanVisible:E,onEnter:w,onLeave:_,onProgressBeanAnimationEnd:function(){return y(!1)},onTimeUpdate:function(e){return l({type:"seek",clickedTime:Math.max(0,Math.min(e,c))})},shouldProgressBeanAnimate:b}))))},z=function(e){return{fill:e.baseColor.fill.light,marginLeft:"15px",marginRight:"15px"}},W=function(e){var t=e.post,n=(0,g.I)();return a.createElement(M.M,{columns:8,display:"flex",flexShrink:"0",margin:"30px 0",padding:"20px 12px",backgroundColor:"BASE_LIGHT"},a.createElement(N.Z,{className:n(z)}),a.createElement(p.F,{scale:"S",color:"DARKER",tag:"span"},"Psst... there’s an audio version of this story."," ",a.createElement(O.a,{post:t,linkStyle:"OBVIOUS"},"Upgrade to listen")))};function $(e){var t=e.post,n=t.id,r=t.audioVersionUrl,o=(t.content||{}).isLockedPreviewOnly;return a.createElement(d.x,{marginTop:"30px"},a.createElement(A.I,null,(function(e){return e&&e.mediumMemberAt||!o?a.createElement(U,{postId:n,audioVersionUrl:r}):a.createElement(R.cW,{source:{dimension:"audio_exclusive",name:"upgrade_membership",postId:n}},a.createElement(B.M,null,a.createElement(W,{post:t})))})))}var G=(0,i.Ps)(F(),O.H),X=n(50008),Z=n.n(X),Y=n(23450),q=n.n(Y),K=n(94093),Q=n(51562),J=function(e){var t=e.featureString,n=e.link,r=e.text,o=e.showTrialMeter;return a.createElement(Q.W,{featureString:t,target:o?"cc-trial-highlight-box":"highlight-box"},a.createElement(K.I,null,a.createElement(Q.W,{featureString:t,target:o?"cc-trial-copy":"copy",tag:"span"},r," "),a.createElement(d.x,{display:"inline",whiteSpace:"nowrap"},a.createElement(Q.W,{featureString:t,target:o?"cc-trial-link":"link",tag:"span"},n))))},ee=n(66893),te=n(76532),ne=n(5731),re=n(67297),oe=n(27952);function ie(){var e=o()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return ie=function(){return e},e}var ae=function(e){var t=e.meterCount,n=e.meterLimit,r=e.post,o=(0,te.H)().value,i=(0,y.Av)(),l=null==o?void 0:o.isMembershipTrialEligible,c=!(!(0,ee.P5)("enable_trial_upsell")||!l),s="li-highlight-meter-".concat(t);a.useEffect((function(){i.event("meter.viewed",{uiType:ne.j.LIHighlightCTA,postId:r.id,meterCount:t,userId:null==o?void 0:o.id}),l&&i.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var u,m=(0,re.v9)((function(e){return e.config.authDomain})),d=a.createElement(B.M,{tag:"span"},a.createElement(O.a,{linkStyle:"OBVIOUS",post:r,inline:!0,redirectUrl:(0,oe.c5p)(m)},c?"Start your free trial":"Upgrade for unlimited access."));return a.createElement(R.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:r.id}},a.createElement(J,{featureString:s,text:(u=n-t,u<=0?a.createElement(a.Fragment,null,"This is your ",a.createElement("b",null,"last")," free member-only story this month."):a.createElement(a.Fragment,null,"You have ",a.createElement("b",null,u)," free member-only ",q()("story",u)," left this month.")),link:d,showTrialMeter:c}))},le=(0,i.Ps)(ie(),O.H),ce=n(62181);function se(){var e=o()(["\n  fragment LOHighlightMeter_post on Post {\n    id\n  }\n"]);return se=function(){return e},e}var ue=function(e){switch(e){case 1:return a.createElement(a.Fragment,null,"You have ",a.createElement("b",null,"2")," free member-only stories left this month.");case 2:return a.createElement(a.Fragment,null,"You have ",a.createElement("b",null,"1")," free member-only story left this month.");case 3:return a.createElement(a.Fragment,null,"This is your ",a.createElement("b",null,"last")," free member-only story this month.");default:return a.createElement(a.Fragment,null,"You've read all your free member-only stories this month.")}},me=function(e){var t=e.meterCount,n=e.post,r=(0,re.v9)((function(e){return e.config.productName})),o=function(e){switch(e){case 3:return"metered_view_3";case 2:return"metered_view_2";case 1:default:return"smart_meter"}}(t),i=(0,y.Av)(),l="lo-highlight-meter-".concat(t);a.useEffect((function(){i.event("meter.viewed",{uiType:ne.j.LOHighlightCTA,postId:n.id,meterCount:t})}),[]);var c=a.createElement(ce.R9,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:o},"Sign up for ".concat(r," and get an extra one"));return a.createElement(R.cW,{source:{postId:n.id}},a.createElement(J,{featureString:l,text:ue(t),link:c,showTrialMeter:!1}))},de=(0,i.Ps)(se()),pe=n(93125),ge=n(7785),fe=n(11348),Ee=n(31235),ve=n(172);function xe(){var e=o()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return xe=function(){return e},e}function he(){var e=o()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIHighlightMeter_post\n    ...LOHighlightMeter_post\n    ...SusiContainer_post\n  }\n  ","\n  ","\n  ","\n"]);return he=function(){return e},e}var be=function(e){var t=e.meteringInfo,n=e.post,r=e.viewer,o=a.useState(!1),i=s()(o,2),l=i[0],c=i[1],u=t.maxUnlockCount||3,m=t.postIds.length;return m<=u?(0,fe.sy)()&&(0,pe.Dk)(r)?((0,fe.Of)(),null):(l||c(!0),a.createElement(ae,{meterCount:m,post:n,meterLimit:u})):null},Pe=function(e){var t=e.meterCount,n=e.post,r=a.useState(!1),o=s()(r,2),i=o[0],l=o[1];switch(t){case 1:case 2:case 3:return i||l(!0),a.createElement(me,{meterCount:t,post:n});default:return null}},ye=function(e){var t=e.meteringInfo,n=e.post,r=(0,l.I0)(),o=(0,g.I)(),i=(0,Ee.xg)(),c=a.useState(!1),u=s()(c,2),m=u[0],d=u[1];a.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":Z()(document))&&d(!0),r((0,ve.Dl)(!1))}),[]);var p=(0,te.H)(),f=p.loading,E=p.error,v=p.value;if(f||E)return a.createElement(a.Fragment,null);var x=v&&v.mediumMemberAt||void 0,h=n&&n.creator&&n.creator.id||void 0,b=v&&v.id||void 0,P=v?x||h===b:"LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,y=!m||!n.isLocked||!t.postIds.includes(n.id)||P,_=m&&!y,w={height:_?"80px":"0px",overflow:_?"inherit":"hidden",transition:"height 2s cubic-bezier(0.23, 1, 0.32, 1) 0s"},I=v?a.createElement(be,{meteringInfo:t,post:n,viewer:v}):a.createElement(Pe,{meterCount:t.postIds.length,post:n});return a.createElement("div",{className:i?o(w):void 0},!y&&I)},_e=(0,i.Ps)(he(),le,de,ge.qt),we=(0,i.Ps)(xe()),Ie=n(82318);function Ce(){var e=o()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return Ce=function(){return e},e}var Se=(0,i.Ps)(Ce()),Le=function(e){var t=e.collection,n=(0,re.v9)((function(e){return e.config.authDomain})),r=t.newsletterV3||{id:"",slug:"",name:""},o=(0,oe.iBn)(r.slug,n,t),i=function(){return a.createElement(Ie.r,{inline:!0,linkStyle:"OBVIOUS",href:o},r.name)};return a.createElement(a.Fragment,null,a.createElement(K.I,null,t.newsletterV3?a.createElement(a.Fragment,null,"This is an email from ",a.createElement(i,null),", a newsletter by ",t.name,"."):a.createElement(a.Fragment,null,"This is an email from ",t.name,".")))},ke=n(78415),Te=n(46829),Ae=n(5977),Oe=n(3149),Me=n(51064),Re=function(e){var t=e.children,n=e.onHide,r=void 0===n?function(){}:n,o=(0,Me.O)(!0),i=s()(o,3),l=i[0],c=i[2],u=a.useCallback((function(){c(),r()}),[r]);return l?a.createElement(d.x,{border:"BASE_LIGHT",borderRadius:"4px",padding:"16px 8px 16px 28px",display:"flex",justifyContent:"space-between",alignItems:"center"},a.createElement(p.F,{scale:"L",color:"DARKER"},t),a.createElement(Oe.P,{onClick:u,isPositionAbsolute:!1,size:"REGULAR"})):null},Be=n(8403),Ne=n(11642);function Fe(){var e=o()(["\n  query PostNoteMissingNotificationQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n      content(postMeteringOptions: $postMeteringOptions) {\n        bodyModel {\n          paragraphs {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return Fe=function(){return e},e}function De(){var e=o()(["\n  fragment PostNoteMissingNotification_post on Post {\n    id\n  }\n"]);return De=function(){return e},e}var He=function(e){var t,n,r,o,i,l=e.post,c=(0,re.v9)((function(e){return e.navigation.referrer})),u=(0,Ae.TH)().hash,m=(0,Be.G1)(),p=(0,Be.PM)(),g=(0,Te.useLazyQuery)(Ve,{variables:{postId:null==l?void 0:l.id,postMeteringOptions:{referrer:c,sk:m,source:p}},ssr:!1}),f=s()(g,2),E=f[0],v=f[1],x=v.called,h=v.loading,b=v.error,P=v.data,y=null==u||null===(t=u.replace("#",""))||void 0===t?void 0:t.split("-"),_=s()(y,2),w=_[0],I=_[1],C=(null!=P?P:{}).post,S=null==C||null===(n=C.privateNotes)||void 0===n?void 0:n.find((function(e){return(null==e?void 0:e.id)===I})),L=null!==(r=null==C||null===(o=C.content)||void 0===o||null===(i=o.bodyModel)||void 0===i?void 0:i.paragraphs)&&void 0!==r?r:[],k=new Set(L.map((function(e){return e.name})).filter(Ne.b)),T=!!S&&k.has(w),A=(0,Me.O)(!!I&&!T),O=s()(A,3),M=O[0],R=O[1],B=O[2];return a.useEffect((function(){I&&!T?R():B()}),[T]),!x&&I&&E(),h||b||!M?null:a.createElement(d.x,{marginTop:"64px"},a.createElement(Re,{onHide:B},"The note you're looking for was deleted"))},je=(0,i.Ps)(De()),Ve=(0,i.Ps)(Fe()),Ue=n(68387);function ze(){var e=o()(["\n  fragment PostHeader_meteringInfo on MeteringInfo {\n    ...MeterController_meteringInfo\n  }\n  ","\n"]);return ze=function(){return e},e}function We(){var e=o()(["\n  fragment PostHeader_post on Post {\n    inResponseToPostResult {\n      ... on PostResult {\n        ...InResponseToPostPreview_postResult\n      }\n    }\n    topics {\n      name\n    }\n    creator {\n      ...EntityDrivenSubscriptionCallToAction_creator\n    }\n    tags {\n      id\n    }\n    collection {\n      ...NewsletterV3PostHeaderCTA_collection\n    }\n    layerCake\n    isLocked\n    id\n    firstPublishedAt\n    isNewsletter\n    ...InResponseToPostPreview_mediaResource\n    ...MeterController_post\n    ...PostNoteMissingNotification_post\n    ...AudioPlayback_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return We=function(){return e},e}var $e=(0,l.$j)((function(e){return{isAmp:e.config.isAmp}}))((function(e){var t=e.meteringInfo,n=e.post,r=e.isAmp;return a.createElement(M.M,{columns:8},a.createElement(He,{post:n}),n.isNewsletter&&!!n.collection&&a.createElement(Le,{collection:n.collection}),!n.collection&&n.creator&&!n.isLocked&&a.createElement(R.cW,{source:{name:Ue.Qw,postId:n.id}},a.createElement(Ue.Qj,{creator:n.creator,position:"top"})),!!n.isLocked&&!!t&&a.createElement(ye,{meteringInfo:t,post:n}),n.audioVersionUrl&&!r&&a.createElement($,{post:n}))})),Ge=(0,i.Ps)(We(),ke.zJ,ke.KI,_e,je,G,Se,Ue.w7),Xe=(0,i.Ps)(ze(),we)},22832:(e,t,n)=>{"use strict";n.d(t,{zX:()=>bn,p:()=>Pn,F9:()=>yn});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(28859),c=n(4697),s=n(88703),u=n(82108),m=n(25448),d=n(78415),p=n(30570),g=n(67154),f=n.n(g),E=n(12291),v=n(47875),x=n(61889),h=n(42933),b=n(98462),P=n(82318),y=n(37278),_=n(15699),w=n(90038),I=n(27952);function C(){var e=o()(["\n  fragment PostRecircItemV2_post on Post {\n    __typename\n    id\n    title\n    mediumUrl\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n  }\n  ","\n  ","\n"]);return C=function(){return e},e}var S=(0,i.Ps)(C(),v.H,_.h),L=(0,E.$j)((function(e){return{defaultImages:e.config.defaultImages}}))((function(e){var t,n=e.post,r=e.defaultImages,o="SuggestedPost"===n.__typename?null==n?void 0:n.post:n;if(!o)return null;var i,l,c,s,u=o.title,m=o.previewImage,d=null==r||null===(t=r.postPreviewImage)||void 0===t?void 0:t.imageId,p=(c=(i={id:(null==m?void 0:m.id)||d,focusPercentX:null==m?void 0:m.focusPercentX,focusPercentY:null==m?void 0:m.focusPercentY}).focusPercentX,s=i.focusPercentY,(l=i.id)?a.createElement(x.F,{miroId:l,freezeGifs:!1,focusPercentX:c,focusPercentY:s,strategy:w._S.Crop,width:70,height:70,otherWidths:[48,70],expectedWidth:70,rules:[{minWidth:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"},minHeight:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"}}]}):null);return a.createElement(_.o,{post:o,presentationContext:"PLACEMENT"},a.createElement(h.x,{display:"flex",justifyContent:"space-between"},a.createElement(h.x,{flexShrink:"1",xs:{marginRight:"16px"},sm:{marginRight:"16px"},md:{marginRight:"16px"}},a.createElement(h.x,{paddingBottom:"8px"},a.createElement(y.X6,{scale:{xs:"XXS",sm:"XXS",md:"XXS",lg:"XS",xl:"XS"}},a.createElement(b.P,{href:(0,I.jVf)(o)},u))),a.createElement(v.G,{post:o,showBio:!1,scale:"S",detailScale:"S",showStar:!!o.isLocked,hideAvatar:!0,hideDescription:!0,noClamp:!0})),p&&a.createElement(h.x,f()({marginLeft:"12px",marginRight:"8px"},{sm:{marginLeft:"16px",marginRight:"0px"}}),a.createElement(P.r,{display:"block",href:(0,I.jVf)(o)},p))))})),k=n(53910),T=n(89375),A=n(51512),O=function(e){var t=e.posts,n=e.sourceName;return t.length?a.createElement(h.x,{marginTop:"24px",marginBottom:"40px"},a.createElement(h.x,{borderBottom:"BASE_LIGHTER",marginTop:"24px",marginBottom:"24px",paddingBottom:"16px",sm:{marginTop:"16px",paddingBottom:"12px"}},a.createElement(y.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"More From Medium")),a.createElement(k.T,{alignItems:"flex-start"},t.map((function(e,t){return a.createElement(T.P,{key:"post-internal-link-".concat(t),size:{xs:12,sm:12,md:6,lg:3,xl:3}},a.createElement(h.x,{paddingBottom:"24px",maxWidth:"500px"},a.createElement(A.cW,{source:{name:n,index:t}},a.createElement(L,{post:e}))))})))):null};function M(){var e=o()(["\n  fragment PostInternalLinks_post on Post {\n    id\n    internalLinks(paging: {limit: 8}) @include(if: $includePostInternalLinks) {\n      items {\n        ... on Post {\n          ...PostRecircItemV2_post\n        }\n      }\n    }\n  }\n  ","\n"]);return M=function(){return e},e}var R=function(e){var t,n=e.post,r=e.sourceName,o=(null==n||null===(t=n.internalLinks)||void 0===t?void 0:t.items)||[];return o&&0!==o.length?a.createElement(O,{posts:o,sourceName:r}):null},B=(0,i.Ps)(M(),S),N=n(67297),F="tierB",D={1:"tierA",2:"tierA",other:"tierA"},H=n(6688),j=a.createContext(!1),V=function(e){var t=(0,H.I)();return a.createElement("div",{className:t({padding:{xs:"16px 22px",sm:"16px 22px",md:"18px 24px",lg:"24px 30px",xl:"32px 40px"},marginBottom:"25px",backgroundColor:"#f4f4f4",borderLeft:"4px solid rgba(2, 184, 117, 1)"})},e.children)},U=n(81952),z=((0,E.$j)((function(e){return{embeddedPostIds:e.config.embeddedPostIds}}))((function(e){var t=e.embeddedPostIds,n=null==t?void 0:t.coronavirus;return n?a.createElement(U.T,{postId:n},(function(e){return e?a.createElement(j.Provider,{value:!0},a.createElement(V,null,e)):null})):null})),n(63038)),W=n.n(z),$=n(11334),G=n(46829),X=n(86753),Z=n(99046),Y=n(65922),q=n(79296),K=n(80908),Q=n(98024),J=n(36891);function ee(){var e=o()(["\n  fragment PostListingItemRecirc_post on Post {\n    __typename\n    id\n    title\n    isLocked\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...PostRecircItemV2_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ee=function(){return e},e}var te=(0,i.Ps)(ee(),v.H,_.h,X.z,Z.x,S),ne=function(e){var t=e.height,n=e.width;return{paddingBottom:"".concat(t/n*100,"%"),position:"relative"}},re={height:"100%",position:"absolute",width:"100%"},oe=function(e){var t=e.title,n=e.url;return a.createElement(b.P,{href:n},a.createElement(K.Dx,{scale:"S",tag:"h3"},t))},ie=(0,E.$j)((function(e){return{productName:e.config.productName}}))((function(e){var t,n,r=e.post,o=e.productName,i=e.target,l=a.useState(!1),c=W()(l,2),s=c[0],u=c[1],m=a.useCallback((function(e){!s&&e.isIntersecting&&u(!0)}),[s]);if((0,J.S)({onIntersect:m,target:i,disconnect:function(){return s},rootMargin:"100px"},[s]),"SuggestedPost"===r.__typename?(t=function(e,t){var n,r,o,i;switch(e&&e[0]&&e[0].reason){case"TOP_SIMILAR_TO_POST":case"CF_POST_SIMILAR_TO_POST":return"Related reads";case"TOP_IN_TOPIC":return i=e[0].topics?e[0].topics[0].name:"topic","Popular in ".concat(i);case"POSTS_SHARING_AUTHOR":return n=e[0].users?e[0].users[0].name:"author","More from ".concat(n);case"POSTS_SHARING_TAGS":return(o=e[0].tags&&e[0].tags[0].name)?"Also tagged ".concat(o):"";case"TOP_IN_COLLECTION":return r=e[0].collections?e[0].collections[0].name:"publication","More from ".concat(r);case"TOP_FOR_THE_DAY_GLOBALLY":return"Top on ".concat(t);case"POSTS_SHARING_COLLECTION_AND_TAGS":return o=e[0].tags&&e[0].tags[0].name,r=e[0].collections?e[0].collections[0].name:"publication",o?"More on ".concat(o," from ").concat(r):"";case"RECOMMENDED_BY_AUTHOR":return(n=e[0].users&&e[0].users[0].name)?"Applause from ".concat(n):"";case"TOP_FOR_THE_DAY":return"Trending on ".concat(t);default:return"Picked for you"}}(r.postSuggestionReasons,o),n=r.post):n=r,!n)return null;var d,p,g,f,E,x,b,y=(d={id:(n.previewImage?n.previewImage.id:"")||"1*hn4v1tCaJy7cWMyb0bpNpQ.png",width:328,height:218,focusPercentX:n.previewImage?n.previewImage.focusPercentX:null,focusPercentY:n.previewImage?n.previewImage.focusPercentY:null},f=d.width,E=d.height,x=d.focusPercentX,b=d.focusPercentY,(g=d.id)?(p="number"==typeof x&&"number"==typeof b?[x,b]:[50,50],a.createElement(q.h,null,(function(e){return a.createElement("div",{className:e(ne({height:E,width:f}))},a.createElement("div",{className:e(re)},a.createElement(Y.B,{miroId:g,imgHeight:E,imgWidth:f,width:"100%",height:"100%",freezeGifs:!1,focusPercent:p})))}))):null);return a.createElement(_.o,{post:n,presentationContext:"PLACEMENT"},a.createElement(h.x,{md:{marginBottom:"48px"}},a.createElement(k.T,{alignItems:{xs:"flex-start",sm:"center",md:"center",lg:"flex-start",xl:"flex-start"},direction:{xs:"row",sm:"row-reverse",md:"row-reverse",lg:"row",xl:"row"}},a.createElement(T.P,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},t&&a.createElement(h.x,{marginBottom:"12px",md:{display:"none"},xs:{display:"block"}},a.createElement(Q.F,{scale:"M",tag:"h4"},t)),y&&a.createElement(h.x,{marginBottom:"16px",md:{marginBottom:"0px"},xs:{marginBottom:"16px"}},a.createElement(P.r,{display:"block",href:(0,I.jVf)(n)},s?y:null))),a.createElement(T.P,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},a.createElement(h.x,{marginBottom:"16px"},t&&a.createElement(h.x,{display:"none",marginBottom:"4px",md:{display:"block"},xs:{display:"none"}},a.createElement(Q.F,{scale:"M",tag:"h4"},t)),a.createElement(oe,{title:n.title?n.title:"",url:(0,I.jVf)(n)})),a.createElement(h.x,{display:"flex",alignItems:"center",justifyContent:"space-between"},a.createElement(h.x,{flexShrink:"1",marginRight:"10px"},a.createElement(v.G,{post:n,showBio:!1,scale:"S",showStar:!!n.isLocked,hideAvatar:!s})),a.createElement(h.x,{display:"flex",alignItems:"center"},a.createElement(Z.S,{post:n,buttonStyle:"SUBTLE",susiEntry:"clap_preview"}),a.createElement(h.x,{borderRight:"BASE_LIGHTER",marginLeft:"12px",marginRight:"10px",height:"20px",width:"1px"}),a.createElement(X.e,{post:n,susiEntry:"bookmark_preview"})))))))})),ae=n(95760);function le(e){var t=e.posts,n=e.sourceName,r=a.useRef(null),o=(0,ae.Av)();return a.useEffect((function(){o.event("experiment.eligible",{experimentId:"57b820b82d68"})}),[]),0===t.length?null:a.createElement(h.x,{margin:"32px 0",md:{marginBottom:"0px"},ref:r},a.createElement(h.x,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},a.createElement(y.X6,{scale:"S"},"More From Medium")),a.createElement(k.T,{alignItems:"flex-start"},t.map((function(e,t){return a.createElement(T.P,{key:"recirc-".concat(t),size:{xs:12,sm:12,md:12,lg:4,xl:4}},a.createElement(A.cW,{source:{name:n,index:t}},a.createElement(ie,{post:e,target:r})))}))))}function ce(e,t){var n=(0,G.useLazyQuery)(e,t),r=W()(n,2),o=r[0],i=r[1];return[a.useCallback((function(e){!i.called&&e.isIntersecting&&o()}),[i]),i]}var se=n(61264),ue=n(11389),me=n(50077),de=n(53976),pe=n(27108),ge=n(51562),fe=n(76532),Ee=n(30027),ve=n(55099),xe=n(95614),he=function(){var e,t,n,r=(e=(0,N.v9)((function(e){return e.config.authDomain})),t=(0,xe.T)(),n=!!(0,fe.H)().value,t?{buttonHref:"https://rsci.app.link/?$canonical_url=".concat(encodeURIComponent((0,I.Zp)(e))),buttonText:"Write with the app",target:"mobile",text:"Post a quick thought or a long story.\nIt's easy and free."}:n?{buttonHref:(0,I.Zp)(e),buttonText:"Write on Medium",target:"li",text:"Post a quick thought or a long story. It's easy and free."}:{buttonHref:(0,I.Zp)(e),buttonText:"Write on Medium",target:"lo",text:"Post a quick thought or a long story. It's easy and free."}),o="post-start-writing";return a.createElement(A.cW,{source:{name:"post-page-footer-cta-write"}},a.createElement(ge.W,{featureString:o,target:"unit-".concat(r.target)},a.createElement(h.x,{textAlign:"center",padding:"20px"},a.createElement(Ee.P,{size:"full"},a.createElement(ge.W,{featureString:o,target:"text-".concat(r.target),tag:"span"},a.createElement(h.x,{display:{xs:"block",sm:"block",md:"inline-block",lg:"inline-block",xl:"inline-block"},whiteSpace:{xs:"pre-line",sm:"pre-line",md:"normal",lg:"normal",xl:"normal"}},a.createElement(Q.F,{scale:"L",color:"DARKER"},r.text))),a.createElement(ge.W,{featureString:o,target:"link-".concat(r.target),tag:"span"},a.createElement(h.x,{display:{xs:"block",sm:"block",md:"inline-block",lg:"inline-block",xl:"inline-block"},margin:{xs:"10px 0 0 0",sm:"10px 0 0 0",md:"0 0 0 12px",lg:"0 0 0 12px",xl:"0 0 0 12px"}},a.createElement(ve.z,{href:r.buttonHref,buttonStyle:"BRAND"},r.buttonText)))))))};function be(){var e=o()(["\n  fragment PostNextFiveStories_post on Post {\n    firstPublishedAt\n    pinnedAt\n  }\n"]);return be=function(){return e},e}function Pe(){var e=o()(["\n  query PostNextFiveStoriesUser($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: user(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return Pe=function(){return e},e}function ye(){var e=o()(["\n  query PostNextFiveStoriesCollection($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: collection(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return ye=function(){return e},e}function _e(){var e=o()(["\n  fragment PostNextFiveStories_Publisher on Publisher {\n    __typename\n    id\n    homepagePostsConnection(paging: {limit: $limit, from: $from}) {\n      posts {\n        ...TruncatedPostCard_post\n        ...ExpandablePost_post\n      }\n    }\n    ...CardByline_publisher\n  }\n  ","\n  ","\n  ","\n"]);return _e=function(){return e},e}var we=(0,i.Ps)(_e(),$.Dn,me.Gk,se.ExpandablePost_post),Ie=(0,i.Ps)(ye(),we),Ce=(0,i.Ps)(Pe(),we),Se=function(e){var t,n,r,o=e.post,i=e.rootMargin,l=e.target,c=(0,de.V)({name:"enable_inline_expansion",placeholder:!1}),s=!!(0,de.V)({name:"enable_post_page_write_cta",placeholder:!1}),u=(null===(t=o.collection)||void 0===t?void 0:t.id)||"",m=(null===(n=o.creator)||void 0===n?void 0:n.id)||"",d=u||m,p=function(e){var t=e.firstPublishedAt,n=e.pinnedAt;return e.collection?n?"P".concat(n):"L".concat(t):"".concat(t)}(o),g=ce(u?Ie:Ce,{variables:{id:d,from:p}}),f=W()(g,2),E=f[0],v=f[1],x=v.called,h=v.loading,b=v.error,P=v.data,y=(P=void 0===P?{publisher:void 0}:P).publisher;if((0,J.S)({onIntersect:E,target:l,disconnect:function(){return x},rootMargin:i},[x]),!x||h||b||!y)return null;var _=null==y||null===(r=y.homepagePostsConnection)||void 0===r?void 0:r.posts;if(!y||!_)return null;var w="Collection"===y.__typename,I=s&&_.length>=2;return a.createElement(a.Fragment,null,_.map((function(e,t){var n={publisher:y,post:e,hideAuthor:!w,isFirst:0===t,includeBottomDivider:I&&0===t||t===_.length-1,index:t,excludeMargin:I&&1===t},r=I&&1===t?a.createElement(he,null):a.createElement(a.Fragment,null),o=c?a.createElement(ue.o,n):a.createElement($.Xc,n);return a.createElement("span",{key:e.id},r,o)})))},Le=function(e){var t=e.post,n=e.rootMargin,r=e.target,o=a.useState(!1),i=W()(o,2),l=i[0],c=i[1];return l||pe.V6.on("load",(function(){return c(!0)})),l?a.createElement(Se,{post:t,target:r,rootMargin:n}):null},ke=(0,i.Ps)(be());function Te(){var e=o()(["\n  query PostRecircQuery(\n    $postId: ID!\n    $includePostRecirc: Boolean!\n    $postRecircPaging: PaginationLimit!\n  ) {\n    post(id: $postId) {\n      id\n      ...PostRecirc_post\n    }\n  }\n  ","\n"]);return Te=function(){return e},e}function Ae(){var e=o()(["\n  fragment PostRecirc_post on Post {\n    viewerEdge {\n      id\n      recirc(paging: {limit: $postRecircPaging}) @include(if: $includePostRecirc) {\n        items {\n          __typename\n          ... on Post {\n            ...Recirc_post\n          }\n          ... on SuggestedPost {\n            post {\n              __typename\n              ...Recirc_post\n            }\n            postSuggestionReasons {\n              reason\n              users {\n                name\n              }\n              topics {\n                name\n              }\n              collections {\n                name\n              }\n              tags {\n                name\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Ae=function(){return e},e}function Oe(){var e=o()(["\n  fragment Recirc_post on Post {\n    ...PostListingItemRecirc_post\n  }\n  ","\n"]);return Oe=function(){return e},e}var Me=(0,i.Ps)(Oe(),te),Re=(0,i.Ps)(Ae(),Me),Be=(0,i.Ps)(Te(),Re),Ne=(0,E.$j)((function(e){return{recircOptions:e.config.recircOptions}}))((function(e){var t,n,r,o=e.postId,i=e.rootMargin,l=e.recircOptions,c=e.target,s=(null==l||null===(t=l.v1)||void 0===t?void 0:t.limit)||3,u=ce(Be,{variables:{postId:o,includePostRecirc:!0,postRecircPaging:s},ssr:!1}),m=W()(u,2),d=m[0],p=m[1],g=p.called,f=p.loading,E=p.error,v=p.data;(0,J.S)({onIntersect:d,target:c,disconnect:function(){return g},rootMargin:i},[g]);var x=null==v||null===(n=v.post)||void 0===n||null===(r=n.viewerEdge.recirc)||void 0===r?void 0:r.items;return!g||f||E||!x?null:a.createElement(le,{posts:x,sourceName:"post_recirc"})})),Fe=n(18579);function De(){var e=o()(["\n  fragment TagList_collection on Collection {\n    id\n    slug\n    domain\n  }\n"]);return De=function(){return e},e}function He(){var e=o()(["\n  fragment TagList_tags on Tag {\n    id\n    displayTitle\n    normalizedTagSlug\n  }\n"]);return He=function(){return e},e}var je={padding:0,margin:0},Ve={display:"inline-block",listStyleType:"none",marginRight:"8px",marginBottom:"8px"},Ue=function(e){return{borderRadius:"3px",padding:"5px 10px",textDecoration:"none",color:e.baseColor.text.lighter,display:"block",background:e.baseColor.background.normal,lineHeight:"22px"}};function ze(e){var t=e.tags,n=e.collection,r=(0,H.I)(),o=(0,N.v9)((function(e){return e.config.authDomain})),i=(0,N.v9)((function(e){return e.client.routingEntity.type})),l=(0,Fe.n)({name:"detail",scale:"S",color:"LIGHTER"});return t?a.createElement("ul",{className:r(je)},t.map((function(e){if(!e.id)return null;var t=e.normalizedTagSlug||e.id,c=n&&!n.domain?(0,I.H6k)(n,t,o):(0,I.HYG)(t,o,i);return a.createElement("li",{key:e.id,className:r(Ve)},a.createElement("a",{href:c,className:r([l,Ue])},e.displayTitle))}))):null}var We=(0,i.Ps)(He()),$e=(0,i.Ps)(De()),Ge=n(86156),Xe=n(47713),Ze=n(7883),Ye=n(11146),qe=n(1506),Ke=n(74871),Qe=n(71542),Je=n(33819),et=n(14071),tt=n(62181),nt=n(85677),rt=n(51064);function ot(){var e=o()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    visibility\n    isPublished\n    allowResponses\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...ManageSubmission_post\n    ...CollectionSubmission_post\n    ...SharePostButtons_post\n    ...ResponsesIconButton_post\n    ...CreatorActionOverflowPopover_post\n    ...PostFooterSocialPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ot=function(){return e},e}var it=function(e){var t,n=e.post,r=e.useSocialPopover,o=e.shouldHideClapsText,i=void 0!==o&&o,l=a.useContext(Ge.f).openSidebar,c=n.isPublished,s=n.creator,u=n.collection,m="clap_footer",d={post:n,source:{name:"post_actions_footer"}},p=(0,rt.O)(!1),g=W()(p,2),f=g[0],E=g[1],v=(0,de.V)({name:"enable_updated_three_dot_menu",placeholder:!1}),x=(null==n||null===(t=n.postResponses)||void 0===t?void 0:t.count)||null;return a.createElement(a.Fragment,null,f&&a.createElement(nt.T,null),a.createElement(h.x,{display:"flex",justifyContent:"space-between",marginTop:"25px",print:{display:"none"}},a.createElement(A.cW,{source:{name:"post_actions_footer"}},a.createElement(h.x,{display:"flex",flexDirection:"row",alignItems:"center"},a.createElement(h.x,{maxWidth:"155px"},a.createElement(Qe.e,null,a.createElement(Z.S,{post:n,buttonStyle:"SUBTLE",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:i,susiEntry:m})),a.createElement(Qe.s,null,a.createElement(Z.S,{post:n,buttonStyle:"SUBTLE",hasDialog:!0,shouldHideClapsText:i,susiEntry:m}))),a.createElement(A.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},a.createElement(h.x,{marginLeft:"24px"},a.createElement(Je.h,{postId:n.id,responsesCount:x,allowResponses:n.allowResponses,isLimitedState:n.isLimitedState,handleClick:l||function(){},responsesCountColor:"DARKER",iconStylesOverride:{marginTop:"4px"},countStylesOverride:{marginLeft:"4px",marginTop:"5px"}}))))),a.createElement(h.x,{display:"flex",alignItems:"center"},c&&a.createElement(a.Fragment,null,r?a.createElement(h.x,{paddingRight:"8px"},a.createElement(Ye.$,d)):a.createElement(et.U,d),a.createElement(h.x,{flexGrow:"0",paddingRight:"8px"},a.createElement(A.cW,{source:{name:"post_actions_footer"}},a.createElement(Xe.o,{post:n,susiEntry:"bookmark_footer"})))),n&&s&&a.createElement(Ze.Z,{creator:s,post:n,collection:u,showLoadingIndicator:E,isDismissDisabled:!!v}))))},at=(0,i.Ps)(ot(),X.z,Z.x,tt.qU,Ke.En,qe.x7,et.E,Je.K,Ze.G,Ye.u),lt=n(73882),ct=n(84783),st=n(89423),ut=n(32589),mt=n(98281),dt=n(31001),pt=n(93258),gt=n(86021);function ft(){var e=o()(["\n  fragment PostFooterByline_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      ...UserAvatar_user\n      ...UserFollowButton_user\n      ...userUrl_user\n    }\n    collection {\n      name\n      description\n      ...CollectionAvatar_collection\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...CollectionFollowButton_post\n    ...UserFollowButton_post\n    ...useShowAuthorNewsletterV3Promo_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ft=function(){return e},e}var Et=mt.wC.XL,vt=mt.wC.XL+22,xt="follow_footer",ht=function(e){var t=e.creator,n=e.post,r=(0,N.v9)((function(e){return e.config.authDomain})),o=t.name,i=t.username,l=t.bio,c=void 0===l?"":l,u=t.id,m=(0,s.gZ)(n),d=(0,ut.P)(t.id).viewerEdge;return o&&i?a.createElement(st.I,null,(function(e){return a.createElement(h.x,{marginBottom:"32px",position:"relative",minHeight:"".concat(Et,"px")},a.createElement(h.x,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},a.createElement(h.x,{position:"absolute",sm:{position:"relative",width:"".concat(vt,"px")}},a.createElement(mt.Yt,{user:t,scale:"XL",link:!0})),a.createElement(h.x,{tag:"span"},a.createElement(h.x,{paddingLeft:"".concat(vt,"px"),sm:{paddingLeft:"0"}},a.createElement(gt.Lh,null,"Written by")),a.createElement(h.x,{paddingLeft:"".concat(vt,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},a.createElement(h.x,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},a.createElement(y.X6,{scale:"M"},a.createElement(P.r,{href:(0,I.AWr)(t,r)},o||i)),a.createElement(h.x,{sm:{display:"none"}},e&&null!=d&&d.isBlocking?a.createElement(pt.d,{targetUserId:u}):!m&&a.createElement(dt.Bv,{buttonSize:"SMALL",post:n,user:t,susiEntry:xt})))))),a.createElement(h.x,{maxWidth:"555px",paddingLeft:"".concat(vt,"px"),sm:{display:"block",paddingLeft:"0"}},a.createElement(h.x,{maxWidth:"450px"},a.createElement(Q.F,{scale:"L"},c)),a.createElement(h.x,{display:"none",sm:{display:"block",marginTop:"24px"}},!m&&a.createElement(dt.Bv,{buttonSize:"SMALL",post:n,user:t,susiEntry:xt}))))})):null},bt=function(e){var t=e.collection,n=e.currentLocation,r=e.post,o=t.name,i=t.description,l=void 0===i?"":i;return a.createElement(h.x,{marginBottom:"32px",position:"relative",minHeight:"".concat(Et,"px")},a.createElement(h.x,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},a.createElement(h.x,{position:"absolute",sm:{position:"relative",width:"".concat(vt,"px")}},a.createElement(lt.v,{collection:t,size:Et,link:!0})),a.createElement(h.x,{tag:"span"},a.createElement(h.x,{paddingLeft:"".concat(vt,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},a.createElement(h.x,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},a.createElement(y.X6,{scale:"M"},a.createElement(P.r,{href:(0,I.WGd)(t,n)},o)),a.createElement(h.x,{sm:{display:"none"}},a.createElement(ct.Fp,{collection:t,post:r,susiEntry:xt})))))),a.createElement(h.x,{maxWidth:"550px",paddingLeft:"".concat(vt,"px"),sm:{display:"block",paddingLeft:"0"}},a.createElement(h.x,{maxWidth:"450px"},a.createElement(Q.F,{scale:"L"},l)),a.createElement(h.x,{display:"none",sm:{display:"block",marginTop:"24px"}},a.createElement(ct.Fp,{collection:t,post:r,susiEntry:xt}))))},Pt=function(e){var t=e.collection,n=e.creator,r=e.post,o=e.currentLocation,i=(0,N.v9)((function(e){return e.config.authDomain})),l=(0,s.gZ)(r);return a.createElement(h.x,{paddingTop:"24px"},n.name&&n.username&&a.createElement(h.x,{display:"flex",flexDirection:"row"},a.createElement(h.x,{marginTop:"5px"},a.createElement(mt.Yt,{user:n,scale:"S",link:!0})),a.createElement(h.x,{marginLeft:"12px"},a.createElement(gt.Lh,{scale:"S"},"Written by"),a.createElement(h.x,{display:"flex",flexDirection:"row"},a.createElement(y.X6,{scale:"XS"},a.createElement(P.r,{href:(0,I.AWr)(n,i)},n.name||n.username)),a.createElement(h.x,{marginLeft:"12px"},!l&&a.createElement(dt.Bv,{buttonSize:"COMPACT",post:r,user:n,susiEntry:xt}))),a.createElement(h.x,{paddingTop:"8px"},a.createElement(Q.F,{scale:"M"},n.bio)))),t&&a.createElement(h.x,{paddingTop:"24px"},a.createElement(h.x,{display:"flex",flexDirection:"row"},a.createElement(lt.v,{collection:t,size:40,link:!0}),a.createElement(h.x,{marginLeft:"12px"},a.createElement(h.x,{display:"flex",flexDirection:"row"},a.createElement(y.X6,{scale:"XS"},a.createElement(P.r,{href:(0,I.WGd)(t,o)},t.name)),a.createElement(h.x,{marginLeft:"12px"},a.createElement(ct.Fp,{collection:t,post:r,buttonSize:"COMPACT",susiEntry:xt}))),a.createElement(h.x,{paddingTop:"8px"},a.createElement(Q.F,{scale:"M"},t.description||""))))))};function yt(e){var t=e.post,n=t.creator,r=t.collection,o=(0,N.v9)((function(e){return e.navigation.currentLocation}));return n?a.createElement(h.x,{marginTop:"25px",marginBottom:"25px",paddingTop:"32px",borderTop:"BASE_LIGHTER",print:{display:"none"},sm:{paddingTop:"0"}},a.createElement(h.x,{sm:{display:"none"}},a.createElement(ht,{creator:n,post:t}),r&&a.createElement(a.Fragment,null,a.createElement(h.x,{paddingTop:"32px"}),a.createElement(bt,{collection:r,currentLocation:o,post:t}))),a.createElement(h.x,{display:"none",sm:{display:"block"}},a.createElement(Pt,{post:t,creator:n,collection:r,currentLocation:o}))):null}var _t=(0,i.Ps)(ft(),lt.d,ct.Iq,ct.b3,I.nfI,mt.WQ,dt.S$,dt.sj,I.$mN,s.b0),wt=n(49925);function It(){var e=o()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n    }\n    collection {\n      name\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n    ...useShowAuthorNewsletterV3Promo_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return It=function(){return e},e}var Ct="follow_footer",St=function(e){var t=e.post,n=t.creator,r=t.collection,o=(0,N.v9)((function(e){return e.config.authDomain})),i=(0,N.v9)((function(e){return e.navigation.currentLocation})),l=(0,fe.H)().value,c=(0,s.gZ)(t),u=(0,ut.P)(null==n?void 0:n.id).viewerEdge,m="REGULAR",d={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},p=(null==l?void 0:l.id)!==(null==n?void 0:n.id)?"168px":void 0,g={display:"flex",justifyContent:"space-between",alignItems:"center"},E=(0,wt.KW)(t.creator),v=r?(0,I.WGd)(r,i,o):n?(0,I.AWr)(n,o):"",x="More from ".concat(r?r.name:null==n?void 0:n.name),b=r?r.description:null==n?void 0:n.bio,_=null;n&&(l&&null!=u&&u.isBlocking?_=a.createElement(pt.d,{buttonSize:m,targetUserId:n.id}):c||(_=a.createElement(dt.Bv,{buttonSize:m,post:t,user:n,susiEntry:Ct})));var w=r?a.createElement(ct.Fp,{buttonSize:m,collection:r,post:t,susiEntry:Ct}):_;return a.createElement(h.x,{print:{display:"none"}},(null==n?void 0:n.name)&&(null==n?void 0:n.username)&&!E&&a.createElement(h.x,{paddingBottom:"30px"},a.createElement(Ee.P,{size:"inset"},a.createElement(h.x,f()({},g,{borderTop:"BASE_LIGHTER",paddingTop:"33px"}),a.createElement(h.x,null,a.createElement(gt.Lh,{scale:"S"},"Written by"),a.createElement(y.X6,{scale:d,clamp:1},a.createElement(P.r,{href:(0,I.AWr)(n,o)},n.name||n.username))),_),n.bio&&a.createElement(h.x,{paddingTop:"6px",paddingRight:p},a.createElement(Q.F,{scale:"M"},n.bio)))),(r||E)&&a.createElement(h.x,{paddingTop:"32px",paddingBottom:"4px",backgroundColor:"BASE_LIGHT"},a.createElement(Ee.P,{size:"inset"},a.createElement(h.x,g,a.createElement(y.X6,{scale:d,clamp:1},a.createElement(P.r,{href:v},x)),w),b&&a.createElement(h.x,{paddingTop:"5px",paddingRight:p},a.createElement(Q.F,{scale:"M"},b)))))},Lt=(0,i.Ps)(It(),ct.Iq,ct.b3,I.nfI,dt.S$,dt.sj,wt.C5,I.$mN,s.b0);function kt(){var e=o()(["\n  fragment PostFooterCollectionButton_collection on Collection {\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return kt=function(){return e},e}var Tt=function(e){var t=e.collection,n=(0,N.v9)((function(e){return e.config.authDomain})),r=(0,N.v9)((function(e){return e.navigation.currentLocation}));return a.createElement(a.Fragment,null,(null==t?void 0:t.name)&&a.createElement(h.x,{maxWidth:"100%",textAlign:"center"},a.createElement(ve.z,{buttonStyle:"STRONG",href:(0,I.WGd)(t,r,n)},"Read more from ",t.name)))},At=(0,i.Ps)(kt(),I.nfI),Ot=n(33914),Mt=n(53690),Rt=n(78271),Bt=n(50344),Nt=n(8969),Ft=n(45957),Dt=function(e){return{fill:e.baseColor.fill.lighter}};function Ht(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(jt(e,"title")," license by the author.")}}function jt(e,t){return{PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}}[e][t]}var Vt=function(e){var t=e.license,n=(0,H.I)();return t?a.createElement(h.x,null,a.createElement(h.x,{display:"inline-block"},a.createElement(Q.F,{scale:"S"},a.createElement(Ot._,{tooltipText:Ht(t),maxWidth:300},a.createElement(P.r,{disableSourceParam:!0,href:jt(t,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(t))))),a.createElement(h.x,{display:"inline-block"},a.createElement(Q.F,{scale:"S"},"CC_40_ZERO"===t&&a.createElement("span",null," by the author."),a.createElement("span",{className:n(Dt),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:a.createElement(Ft.Z,null),CC_40_BY:a.createElement(Mt.Z,null),CC_40_BY_ND:a.createElement(a.Fragment,null,a.createElement(Mt.Z,null),a.createElement(Bt.Z,null)),CC_40_BY_SA:a.createElement(a.Fragment,null,a.createElement(Mt.Z,null),a.createElement(Nt.Z,null)),CC_40_BY_NC:a.createElement(a.Fragment,null,a.createElement(Mt.Z,null),a.createElement(Rt.Z,null)),CC_40_BY_NC_ND:a.createElement(a.Fragment,null,a.createElement(Mt.Z,null),a.createElement(Rt.Z,null),a.createElement(Bt.Z,null)),CC_40_BY_NC_SA:a.createElement(a.Fragment,null,a.createElement(Mt.Z,null),a.createElement(Rt.Z,null),a.createElement(Nt.Z,null)),PUBLIC_DOMAIN:a.createElement(a.Fragment,null)}[e]}(t))))):null},Ut=n(59713),zt=n.n(Ut),Wt=n(80439);function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){zt()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(){var e=o()(["\n  fragment ThanksTo_post on Post {\n    id\n    creator {\n      id\n    }\n    collaborators {\n      id\n      user {\n        id\n        name\n      }\n      state\n    }\n  }\n"]);return Xt=function(){return e},e}function Zt(){var e=o()(["\n  mutation setCollaboratorState($postId: ID!, $collaboratorId: ID!, $isVisible: Boolean!) {\n    setCollaboratorState(postId: $postId, collaboratorId: $collaboratorId, isVisible: $isVisible)\n  }\n"]);return Zt=function(){return e},e}var Yt=(0,i.Ps)(Zt()),qt=(0,i.Ps)(Xt()),Kt=function(e){var t=e.viewer,n=e.post,r=e.collaborator,o=r.user,i=n.creator;return o&&t&&i&&(t.id===i.id||t.id===o.id)?a.createElement(Wt.mm,{mutation:Yt,optimisticResponse:{setCollaboratorState:!0},update:function(e,t){var o,i=e.readFragment({id:"Post:".concat(n.id),fragment:qt});e.writeFragment({id:"Post:".concat(n.id),fragment:qt,data:Gt(Gt({},i),{},{collaborators:(null!==(o=null==i?void 0:i.collaborators)&&void 0!==o?o:[]).map((function(e){return e.id===r.id?Gt(Gt({},e),{},{state:"visible"===e.state?"hidden":"visible"}):e}))})})}},(function(e){return"hidden-collab"===r.state&&i.id===t.id?"(declined)":a.createElement(a.Fragment,null,"(",a.createElement(P.r,{onClick:function(t){e({variables:{postId:n.id,collaboratorId:o.id,isVisible:"visible"!==r.state}})}},"visible"===r.state?"hide":"show"),")")})):null},Qt=function(e){var t=e.index,n=e.total;return t===n-1?"":n>=3?t===n-2?", and ":", ":" and "},Jt=function(e){var t=e.post,n=t.collaborators,r=t.creator;return r&&n&&n.length?a.createElement(st.I,null,(function(e){return a.createElement(h.x,null,a.createElement(Q.F,{scale:"S"},"Thanks to ",n.map((function(o,i){var l=o.user;return l?a.createElement(a.Fragment,{key:o.id},l.name,function(e,t,n){return e&&(e.id===t.id||n&&e.id===n.id)}(e,r,l)&&a.createElement(a.Fragment,null," ",a.createElement(Kt,{viewer:e,post:t,collaborator:o})),a.createElement(Qt,{index:i,total:n.length})):null})),". "))})):null};function en(){var e=o()(["\n  fragment TranslatedBy_post on Post {\n    creator {\n      name\n      ...userUrl_user\n    }\n    translationSourcePost {\n      id\n      title\n      mediumUrl\n    }\n  }\n  ","\n"]);return en=function(){return e},e}var tn=(0,i.Ps)(en(),I.$mN),nn=function(e){var t=e.post,n=(0,N.v9)((function(e){return e.config.authDomain})),r=t.creator;if(!t.translationSourcePost||!r)return null;var o=a.createElement(P.r,{linkStyle:"SUBTLE",inline:!0,href:(0,I.jVf)(t.translationSourcePost)},"original"),i=a.createElement(P.r,{linkStyle:"SUBTLE",inline:!0,href:(0,I.AWr)(r,n)},r.name);return a.createElement(h.x,null,a.createElement(Q.F,{scale:"S"},"Translated from ",o," by ",i,"."))},rn=n(25537),on=n(68387),an=n(78221);function ln(){var e=o()(["\n  fragment SequencePreview_sequence on Sequence {\n    sequenceId\n    ...SequenceCoverImage_sequence\n    description\n    eyebrow\n    slug\n    tabletImage {\n      id\n    }\n    title\n    hideIndex\n  }\n  ","\n"]);return ln=function(){return e},e}var cn={textTransform:"uppercase"};function sn(e){var t=e.sequence,n=(0,H.I)();return a.createElement(h.x,{display:"flex",flexDirection:"column",marginBottom:"56px"},a.createElement(h.x,{display:"flex",marginTop:"48px",xs:{marginTop:"32px",display:"flex"}},a.createElement(h.x,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",md:{display:"none"}},a.createElement(an.k,{sequence:t,width:200,height:265})),a.createElement(h.x,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",md:{display:"block"},xs:{display:"none !important"}},a.createElement(an.k,{sequence:t,width:180,height:238})),a.createElement(h.x,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",xs:{display:"block"}},a.createElement(an.k,{sequence:t,width:98,height:130})),a.createElement(h.x,{display:"flex",flexDirection:"column",marginLeft:"32px",justifyContent:"center",xs:{marginLeft:"20px",display:"flex"}},a.createElement("div",{className:n(cn)},a.createElement(gt.Lh,null,"About this ",t.eyebrow||"Collection")),t.title&&t.slug&&a.createElement(b.P,{href:(0,I.Qdx)(t.slug)},a.createElement(h.x,null,a.createElement(K.Dx,{scale:"L"},t.title))),t.description&&a.createElement(h.x,{marginTop:"14px",xs:{display:"none"},maxWidth:"680px"},a.createElement(Q.F,{scale:"L"},t.description)))),t.description&&a.createElement(h.x,{display:"none",marginTop:"29px",xs:{display:"block"}},a.createElement(Q.F,{scale:"M"},t.description)))}var un=(0,i.Ps)(ln(),an.U),mn=n(324),dn=n(59877),pn=n(41331),gn=n(67122),fn=n(60410),En=n(42440);function vn(){var e=o()(["\n  fragment PostFooter_post on Post {\n    id\n    visibility\n    license\n    isPublished\n    isLocked\n    allowResponses\n    layerCake\n    newsletterId\n    collection {\n      ...auroraHooks_publisher\n      ...NewsletterV3Promo_publisher\n      ...PostFooter_collection\n      ...TagList_collection\n      ...useShowCollectionNewsletterV3Promo_collection\n    }\n    creator {\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n      viewerIsUser\n      ...auroraHooks_publisher\n      ...EntityDrivenSubscriptionCallToAction_creator\n    }\n    sequence {\n      sequenceId\n      ...SequencePreview_sequence\n    }\n    tags {\n      id\n      ...TagList_tags\n    }\n    topics {\n      topicId\n      name\n    }\n    inResponseToPostResult {\n      ... on PostResult {\n        ...InResponseToPostPreview_postResult\n      }\n    }\n    ...PostFooterActionsBar_post\n    ...PostFooterByline_post\n    ...PostFooterBylineAurora_post\n    ...PostInternalLinks_post\n    ...PostNextFiveStories_post\n    ...PostRecirc_post\n    ...ThanksTo_post\n    ...TranslatedBy_post\n    ...InResponseToPostPreview_mediaResource\n    ...useShowAuthorNewsletterV3Promo_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return vn=function(){return e},e}function xn(){var e=o()(["\n  fragment PostFooter_collection on Collection {\n    name\n    description\n    ...PostFooterCollectionButton_collection\n  }\n  ","\n"]);return xn=function(){return e},e}var hn=function(e){return{color:e.baseColor.text.normal}},bn=function(e){var t,n=e.post,r=e.hideRecirc,o=n.id,i=n.layerCake,d=n.tags,g=n.topics,f=n.sequence,E=n.visibility,v=n.isPublished,x=n.collection,b=n.creator,P=a.useRef(null),y=a.useRef(null),_="0px 0px 2000px 0px",w=(0,H.I)(),I=a.useContext(l.u6),C=(0,N.p9)((function(e){return e.config.isAmp})),S=(0,N.v9)((function(e){return e.config.embeddedPostIds})),L=(0,ut.P)(null===(t=n.creator)||void 0===t?void 0:t.id).viewerEdge,k=(0,rn.o)()||C,T=function(e,t,n,r){var o=function(e){var t=e.tags,n=void 0===t?[]:t,r=e.topics,o=void 0===r?[]:r,i=e.tier,a=e.isLocked,l=e.isTopicPage,c=e.postId,s=e.postPublishDate,u=(0,N.v9)((function(e){return e.config.sharedCdcMessaging.COVID_APPLICABLE_TAG_SLUGS})),m=(0,N.v9)((function(e){return e.config.sharedCdcMessaging.COVID_APPLICABLE_TOPIC_NAMES})),d=(0,N.v9)((function(e){return e.config.sharedCdcMessaging.COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE})),p=(0,N.b$)((function(e){return e.config.sharedCdcMessaging.COVID_MESSAGES})),g=(0,N.v9)((function(e){return e.config.sharedCdcMessaging.COVID_BANNER_POST_ID_OVERRIDE_WHITELIST})),f={shouldShowCdcMessaging:!1,message:p[D.other]};if(g.includes(c||""))return f;if(s&&s<15778368e5)return f;var E=u.map((function(e){return e.toLowerCase()})),v=(l?d:m).map((function(e){return e.toLowerCase()})),x=n.map((function(e){return E.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0),h=o.map((function(e){return v.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0);return{shouldShowCdcMessaging:!(!x&&!h),message:function(e,t,n){var r=arguments.length>4?arguments[4]:void 0;return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).some((function(e){return t.includes(e?e.toLowerCase():"")}))&&r&&[1,2].includes(n||0)?e.unbound:null==n?e[D.other]:e[D[n]||F]}(p,v,i,o,a)}}({tier:r,topics:n,tags:t}).shouldShowCdcMessaging;return!(!(null==e?void 0:e.coronavirus)||!o)}(S,null==d?void 0:d.map((function(e){return e.id})),null==g?void 0:g.map((function(e){return e.name})),i),O=(0,wt.GT)(x||n.creator);a.useEffect((function(){var e=O?P:y;I.updateWatchedBounds("footer",e,{type:"footer"})}),[y,P]);var M,B,j=(0,de.V)({name:"entity_driven_subscription_milestone_1",placeholder:!1}),V=function(){var e=(0,u._)(x),t=(0,s.gZ)(n);return x&&e?a.createElement(c.Xw,{postId:o,publisher:x}):!b||!t||null!=L&&L.isAllowEdsEnabled&&j?null:a.createElement(c.Xw,{postId:o,publisher:b})};return a.createElement("div",{ref:y},a.createElement(A.cW,{source:{name:"follow_footer"}},a.createElement("div",{className:w([(M=!v||T,B="40px",{marginTop:B,clear:"both",marginBottom:M?"40px":void 0}),(0,fn.o)({flexDirection:"column",justifyContent:"center"})])},a.createElement(Ee.P,{size:"inset"},!v&&a.createElement(h.x,{height:"20px",borderTop:"BASE_LIGHTER"}),a.createElement(h.x,{display:"flex",flexWrap:"wrap"},v&&a.createElement(Jt,{post:n}),v&&a.createElement(nn,{post:n})),a.createElement(h.x,{display:"flex",flexWrap:"wrap",alignItems:"center"},"UNLISTED"===E&&a.createElement(h.x,null,a.createElement(Q.F,{scale:"S"},a.createElement(En.Z,null)," ",a.createElement("span",{className:w(hn)},"Unlisted"),"ALL_RIGHTS_RESERVED"!==n.license&&a.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"|"))),n.license&&"ALL_RIGHTS_RESERVED"!==n.license&&a.createElement(Vt,{license:n.license})),a.createElement(V,null),!n.collection&&n.creator&&n.isLocked&&a.createElement(A.cW,{source:{name:on.Qw,postId:n.id}},a.createElement(on.Qj,{creator:n.creator})),O&&a.createElement(a.Fragment,null,!C&&a.createElement(h.x,{marginTop:"25px",paddingBottom:"25px"},a.createElement(it,{post:n,useSocialPopover:!0,shouldHideClapsText:!0})),d&&d.length>0&&a.createElement(h.x,{marginTop:"25px",paddingBottom:"40px"},a.createElement(ze,{tags:d,collection:n.collection}))),!O&&a.createElement(a.Fragment,null,d&&d.length>0&&a.createElement(h.x,{marginTop:"25px"},a.createElement(ze,{tags:d,collection:n.collection})),!C&&a.createElement(it,{post:n})),O&&!x&&a.createElement(h.x,{paddingTop:"40px"})),a.createElement("div",{ref:P},a.createElement(Ee.P,{size:"inset"},v&&!O&&a.createElement(yt,{post:n}),!O&&T&&a.createElement(h.x,{paddingTop:"25px"},a.createElement(pn.v,{rootMargin:"0px 0px 1000px 0px",target:y},a.createElement(m.PY,{postId:null==S?void 0:S.coronavirus,sourcePost:n})))),a.createElement(p.L0,null,O&&a.createElement(a.Fragment,null,a.createElement(St,{post:n}),a.createElement(h.x,{backgroundColor:"BASE_LIGHT",print:{display:"none"},paddingTop:"25px"},a.createElement(Ee.P,{size:"full"},a.createElement(Le,{post:n,rootMargin:_,target:y}),x&&a.createElement(h.x,{marginBottom:"96px",marginTop:"40px"},a.createElement(Tt,{collection:x}))))),!r&&v&&!T&&a.createElement(mn.N8,null,a.createElement(dn.r,null,a.createElement(h.x,{background:gn.ix,print:{display:"none"}},a.createElement(Ee.P,null,f&&!f.hideIndex&&!O&&a.createElement(sn,{sequence:f}),!k&&!O&&a.createElement(Ne,{target:y,postId:o,rootMargin:_,post:n}),k&&a.createElement(R,{post:n,sourceName:"post_internal_links"}))))))))))},Pn=(0,i.Ps)(xn(),At),yn=(0,i.Ps)(vn(),wt.C5,c.Rf,Pn,at,_t,Lt,B,ke,Re,un,We,$e,u.P,qt,tn,c.e0,d.zJ,d.KI,on.w7,s.b0)},25537:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(76532),o=n(31235),i=n(67297);function a(){var e=(0,o.xg)(),t=(0,i.v9)((function(e){return e.client.hydrated})),n=(0,i.p9)((function(e){return e.session.isLoggedInCookie})),a=(0,r.H)().value,l=n||!!a,c=(0,i.p9)((function(e){return e.session.isSpoofed}));return!t&&e||!l&&!c}},59877:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(82492),o=n.n(r),i=n(67294),a=n(77180),l=n(1072),c=n(5955),s=function(e){var t=e.children,n=function(e){return o()({},e,{newFonts:{title:{family:c.H2,weight:400,fontSize:{XS:20,S:26,M:34,L:40,XL:48},lineHeight:{XS:28,S:34,M:42,L:48,XL:60},topLeadingPct:.38,bottomLeadingPct:.17},pullQuote:{family:c.H2,weight:400,fontSize:{S:22,M:24,L:30},lineHeight:{S:30,M:32,L:44},topLeadingPct:.38,bottomLeadingPct:.17}}})}((0,a.F)());return i.createElement(l.f,{theme:n},t)}},81952:(e,t,n)=>{"use strict";n.d(t,{T:()=>f});var r=n(28655),o=n.n(r),i=n(71439),a=n(80439),l=n(67294),c=n(95760),s=n(72846);function u(){var e=o()(["\n  fragment PostContentScreen_post on Post {\n    id\n    title\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...PostBody_bodyModel\n      }\n    }\n    creator {\n      id\n      ...PostBody_creator\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function m(e){var t=e.post,n={bodyModel:t.content.bodyModel,creator:t.creator,postBodyInserts:null,ref:null,richTextStyle:"FULL_PAGE"};return l.createElement(s.yO,n)}var d=(0,i.Ps)(u(),s.v,s.Pk);function p(){var e=o()(["\n  query EmbeddedPostHandler($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      ...PostContentScreen_post\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var g=(0,i.Ps)(p(),d),f=function(e){var t=e.postId,n=e.children,r=(0,c.Av)();return l.createElement(a.AE,{query:g,variables:{postId:t,postMeteringOptions:{referrer:null,sk:null}}},(function(e){var o=e.loading,i=e.error,a=e.data,c=(a=void 0===a?{}:a).post;return o?n(null):i?(r.event("embeddedPost.error",{errorMessage:i.message,postId:t}),n(null)):c?(r.event("embeddedPost.postPresented",{postId:t}),n(l.createElement(m,{post:c}))):(r.event("embeddedPost.noPost",{postId:t}),n(null))}))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/9595.9a581762.chunk.js.map