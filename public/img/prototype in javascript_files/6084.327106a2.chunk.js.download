(self.webpackChunklite=self.webpackChunklite||[]).push([[6084],{89392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(67294);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var o=a.createElement("path",{clipRule:"evenodd",d:"M3 3.35c0-1.26 1.11-2.3 2.5-2.3S8 2.1 8 3.35v2.6H3zm6 2.6v-2.6C9 1.52 7.42.05 5.5.05S2 1.52 2 3.35v2.6a2 2 0 0 0-2 2v4a1.99 1.99 0 0 0 2 2h7a2 2 0 0 0 2-2v-4a1.99 1.99 0 0 0-2-2z",fill:"#a8a8a8",fillRule:"evenodd"});const r=function(e){return a.createElement("svg",i({fill:"none",height:14,viewBox:"0 0 11 14",width:11},e),o)}},66612:(e,t,n)=>{"use strict";n.d(t,{F:()=>d,l:()=>u});var a=n(28655),i=n.n(a),o=n(71439),r=n(67294),l=n(27721),c=n(42933);function s(){var e=i()(["\n  fragment BookCover_bookEdition on BookEdition {\n    cover\n  }\n"]);return s=function(){return e},e}var d=function(e){var t=e.bookEdition,n=e.width,a=e.marginRight,i=e.marginBottom,o=e.marginLeft,s=e.marginTop,d=e.height,u=e.strategy;return r.createElement(c.x,{marginRight:a,marginLeft:o,marginTop:s,marginBottom:i},t.cover?r.createElement(l.UV,{miroId:t.cover,width:n,height:d,strategy:u}):r.createElement(c.x,{height:"".concat(d||1.5*n,"px"),width:"".concat(n,"px"),backgroundColor:"BASE_NORMAL"}))},u=(0,o.Ps)(s())},77339:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var a=n(67294),i=n(42933),o=n(4353),r=function(e){var t=e.loading,n=e.text,r=void 0===n?"Done":n;return a.createElement(i.x,{display:"inline-flex",alignItems:"center",tag:"span"},r,t&&a.createElement(i.x,{paddingLeft:"10px",tag:"span"},a.createElement(o.T,{size:"18px"})))}},73976:(e,t,n)=>{"use strict";n.d(t,{n:()=>b,E:()=>w});var a=n(28655),i=n.n(a),o=n(71439),r=n(67294),l=n(42933),c=n(4353),s=n(98024),d=n(71229),u=n(6688),g=n(14391),m=n(89392),p=n(66137),f=n(24821);function v(){var e=i()(["\n  fragment CatalogAddToListItem_catalog on Catalog {\n    id\n    name\n    visibility\n    predefined\n    version\n    itemsConnection(pagingOptions: $pagingOptions) {\n      items {\n        ...CatalogAddToListItem_catalogItemV2\n      }\n    }\n    ...WithToggleInsideCatalog_catalog\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function h(){var e=i()(["\n  fragment CatalogAddToListItem_catalogItemV2 on CatalogItemV2 {\n    catalogItemId\n    entity {\n      __typename\n      ... on Post {\n        id\n      }\n      ... on BookEdition {\n        id\n      }\n    }\n  }\n"]);return h=function(){return e},e}var I={display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px","& > label":{width:"calc(100% - 10px)","& > div":{flexShrink:0},"& > p":{marginRight:"10px",textAlign:"left"}}};function C(e){var t=e.catalog,n=e.target,a=e.kind,i=e.queryVariablesOptions,o=e.viewer,l=(0,u.I)();return r.createElement(f.jo,{viewer:o,target:n,kind:a,catalog:t,variablesOptions:i},(function(e){var n=e.toggleInsideCatalog,a=e.isInsideCatalog,i=e.loading,o=t.predefined?(0,p.S6)(t.predefined):t.name;return r.createElement("div",{className:l(I)},r.createElement(d.X,{key:t.id,checked:a,checkboxStyle:"OBVIOUS",onChange:n,disabled:i||t.visibility===g.n2.LOCKED,textScale:"L",clampText:1},o),t.visibility!==g.n2.PUBLIC&&r.createElement(m.Z,null))}))}var E=(0,o.Ps)(h()),y=(0,o.Ps)(v(),E,f.sC);function x(){var e=i()(["\n  fragment CatalogAddToList_catalog on Catalog {\n    ...CatalogAddToListItem_catalog\n  }\n  ","\n"]);return x=function(){return e},e}function b(e){var t=e.target,n=e.kind,a=e.catalogs,i=e.isLoading,o=e.queryVariablesOptions,d=e.viewer;return i?r.createElement(l.x,{display:"flex",justifyContent:"center",padding:"40px 0"},r.createElement(s.F,{color:"DARKER",scale:"L"},r.createElement(c.T,null))):a?r.createElement(r.Fragment,null,a.map((function(e){return r.createElement(C,{viewer:d,key:e.id,catalog:e,target:t,kind:n,queryVariablesOptions:o})}))):null}var w=(0,o.Ps)(x(),y)},24821:(e,t,n)=>{"use strict";n.d(t,{jo:()=>m,sC:()=>p,tA:()=>f,m7:()=>v});var a=n(28655),i=n.n(a),o=n(63038),r=n.n(o),l=n(71439),c=n(67294),s=n(57768);function d(){var e=i()(["\n  fragment WithToggleInsideCatalog_post on Post {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n        }\n        predefinedContainingThis {\n          predefined\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}function u(){var e=i()(["\n  fragment WithToggleInsideCatalog_bookEdition on BookEdition {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n        }\n        predefinedContainingThis {\n          predefined\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}function g(){var e=i()(["\n  fragment WithToggleInsideCatalog_catalog on Catalog {\n    id\n    version\n    predefined\n  }\n"]);return g=function(){return e},e}function m(e){var t,n,a=e.children,i=e.target,o=e.kind,l=e.catalog,d=e.viewer,u=c.useMemo((function(){if(l.predefined){var e,t=null===(e=i.viewerEdge.catalogsConnection)||void 0===e?void 0:e.predefinedContainingThis.find((function(e){return e.predefined===l.predefined}));return[!!t,null==t?void 0:t.catalogItemIds]}var n,a=null===(n=i.viewerEdge.catalogsConnection)||void 0===n?void 0:n.catalogsContainingThis.find((function(e){return e.catalogId===l.id}));return[!!a,null==a?void 0:a.catalogItemIds]}),[l.predefined,l.id,i.viewerEdge]),g=r()(u,2),m=g[0],p=g[1],f=(0,s.qY)(d.id,l.id,l.version,i.id,o,null!==(t=l.predefined)&&void 0!==t?t:void 0),v=r()(f,2),h=v[0],I=v[1].loading,C=(0,s.jN)(d.id,l.id,l.version,i.id,o,p||[],null!==(n=l.predefined)&&void 0!==n?n:void 0),E=r()(C,2),y=E[0],x=E[1].loading;return a({toggleInsideCatalog:m?y:h,isInsideCatalog:m,loading:I||x})}var p=(0,l.Ps)(g()),f=(0,l.Ps)(u()),v=(0,l.Ps)(d())},19661:(e,t,n)=>{"use strict";n.d(t,{Rw:()=>p,Y_:()=>h,u1:()=>I});var a=n(28655),i=n.n(a),o=n(71439),r=n(67294),l=n(66612),c=n(27721),s=n(42933),d=n(6688),u=n(51299),g=n(90038);function m(){var e=i()(["\n  fragment CatalogCovers_catalogItemV2 on CatalogItemV2 {\n    catalogItemId\n    entity {\n      __typename\n      ... on BookEdition {\n        ...BookCover_bookEdition\n      }\n      ... on Post {\n        previewImage {\n          id\n          alt\n        }\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var p=336,f=function(e,t){return function(n){var a=t?-20:-80,i=t?0:-130;return{position:"relative",borderRight:e<2?"".concat(3,"px solid ").concat(n.backgroundColor):void 0,zIndex:3-e,marginLeft:1===e?"".concat(a,"px"):2===e?"".concat(i,"px"):void 0}}},v=function(e){var t,n=e.catalogItem,a=e.size,i=null==n?void 0:n.entity,o=r.createElement(s.x,{height:"".concat(a,"px"),width:"".concat(a,"px"),backgroundColor:"BASE_NORMAL"});return i&&("BookEdition"===i.__typename?o=r.createElement(l.F,{bookEdition:i,width:a,height:a,strategy:g._S.Crop}):"Post"===i.__typename&&null!==(t=i.previewImage)&&void 0!==t&&t.id&&(o=r.createElement(c.UV,{miroId:i.previewImage.id,alt:i.previewImage.alt||"",width:a,height:a,strategy:g._S.Crop}))),r.createElement(s.x,{height:"".concat(a,"px")},o)},h=function(e){var t=e.catalogItems,n=e.isMobile,a=(0,d.I)(),i=(0,u.U)(),o=t.filter((function(e){var t,n=e.entity;return!("Post"!==(null==n?void 0:n.__typename)||null===(t=n.previewImage)||void 0===t||!t.id)||!("BookEdition"!==(null==n?void 0:n.__typename)||!n.cover)})),l=[o[0],o[1],o[2]],c=null!=n?n:"sm"===i||"xs"===i,g=c?140:184;return r.createElement(s.x,{display:"flex",overflow:"hidden",justifyContent:c?"flex-start":"flex-end",width:"".concat(p,"px"),borderRadius:"0 4px 4px",position:"relative",flexShrink:"0",xs:{width:"100%"},sm:{width:void 0===n?"100%":void 0}},l.map((function(e,t){return r.createElement("div",{key:(null==e?void 0:e.catalogItemId)||t,className:a(f(t,c))},r.createElement(v,{catalogItem:e,size:g}))})))},I=(0,o.Ps)(m(),l.l)},16330:(e,t,n)=>{"use strict";n.d(t,{lb:()=>_,ci:()=>k,aX:()=>S});var a=n(28655),i=n.n(a),o=n(71439),r=n(67294),l=n(59749),c=n(53976),s=n(82318),d=n(42933),u=n(80908),g=n(98024),m=n(95760),p=n(51512),f=n(19551),v=n(14391),h=n(8403),I=n(67297),C=n(89392),E=n(66137),y=n(27952),x=n(19661);function b(){var e=i()(["\n  fragment CatalogsListItem_user on User {\n    ...userUrl_user\n  }\n  ","\n"]);return b=function(){return e},e}function w(){var e=i()(["\n  fragment CatalogsListItem_catalog on Catalog {\n    id\n    name\n    predefined\n    visibility\n    ...catalogUrl_catalog\n    ...formatItemsCount_catalog\n    listItemsConnection: itemsConnection(pagingOptions: {limit: 3}) {\n      items {\n        catalogItemId\n        ...CatalogCovers_catalogItemV2\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return w=function(){return e},e}var _=function(e){var t=e.catalog,n=e.profileUser,a=t.name,i=t.visibility,o=t.listItemsConnection,b=t.id,w=t.predefined,_=(0,c.V)({name:"enable_lite_book_experience",placeholder:!1}),k=(0,l.SZ)(t,_),S=i!==v.n2.PUBLIC,P=w?(0,E.S6)(w):a,O=(0,I.v9)((function(e){return e.config.authDomain})),T=(0,m.Av)(),L=(0,p.pK)(),R=(0,h.PM)(),B=(0,f.g)({onPresentedFn:function(){T.event("list.presented",{listId:t.id,source:L,referrerSource:R})}}),F=n?(0,y.BJY)(n,t,O):(0,y.ykG)(t,{authDomain:O});return r.createElement(s.r,{href:F},r.createElement(d.x,{ref:B,border:"BASE_LIGHTER",borderRadius:"4px",marginBottom:"40px",maxWidth:"740px",width:"100%",display:"flex",justifyContent:"space-between",xs:{flexDirection:"column",maxWidth:"100%",width:"".concat(x.Rw,"px")},sm:{maxWidth:"100%",width:"".concat(x.Rw,"px"),flexDirection:"column"},md:{flexDirection:"row"},lg:{flexDirection:"row"},xl:{flexDirection:"row"}},r.createElement(d.x,{key:b,display:"flex",flexDirection:"column",padding:"24px 24px 29px",justifyContent:"space-between",wordBreak:"break-word"},r.createElement(u.Dx,{clamp:2,scale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"}},P),(S||k)&&r.createElement(d.x,{display:"flex"},k&&r.createElement(g.F,{scale:"S",color:"LIGHTER"},k),S&&r.createElement(d.x,{paddingLeft:"8px"},r.createElement(C.Z,null)))),r.createElement(x.Y_,{catalogItems:o.items})))},k=(0,o.Ps)(w(),x.u1,y.UiF,l.BR),S=(0,o.Ps)(b(),y.$mN)},16084:(e,t,n)=>{"use strict";n.d(t,{W:()=>u,WU:()=>g,e7:()=>m,dT:()=>p,dw:()=>f,Dk:()=>v});var a=n(28655),i=n.n(a),o=n(71439),r=n(73976),l=n(76532),c=n(14391),s=n(32580);function d(){var e=i()(["\n  query GetCatalogsByUser(\n    $userId: ID!\n    $pagingOptions: CatalogPagingOptionsInput!\n    $type: CatalogType!\n    $isPaginated: Boolean!\n    $withCatalogDetails: Boolean!\n    $withReadingList: Boolean!\n  ) {\n    readingList: getPredefinedCatalog(userId: $userId, type: READING_LIST)\n      @include(if: $withReadingList) {\n      __typename\n      ...CatalogAddToList_catalog @skip(if: $withCatalogDetails)\n      ...YourCatalogsScreen_catalog @include(if: $withCatalogDetails)\n    }\n    catalogsByUser(userId: $userId, pagingOptions: $pagingOptions, type: $type) {\n      __typename\n      catalogs {\n        ...CatalogAddToList_catalog @skip(if: $withCatalogDetails)\n        ...YourCatalogsScreen_catalog @include(if: $withCatalogDetails)\n      }\n\n      paging @include(if: $isPaginated) {\n        __typename\n        nextPageCursor {\n          id\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}var u=5,g=20,m=100,p=20,f=function(e){var t,n=e.limit,a=e.isPaginated,i=void 0!==a&&a,o=e.withCatalogDetails,r=void 0!==o&&o,s=e.withReadingList,d=void 0===s||s,u=(0,l.H)().value;return{userId:null!==(t=null==u?void 0:u.id)&&void 0!==t?t:"",pagingOptions:{limit:n},type:c.HQ.LISTS,isPaginated:i,withCatalogDetails:r,withReadingList:d}},v=(0,o.Ps)(d(),r.E,s.G)},80122:(e,t,n)=>{"use strict";n.d(t,{a:()=>C});var a=n(63038),i=n.n(a),o=n(67294),r=n(77339),l=n(94411),c=n(57768),s=n(50223),d=n(42933),u=n(43791),g=n(82318),m=n(71229),p=n(80908),f=n(98024),v=n(14391),h=n(85277),I=n(27952);function C(e){var t=e.isVisible,n=e.hide,a=e.target,C=e.kind,E=e.switchToAddToModal,y=e.isSwitchingModal,x=e.viewer,b=o.useState(""),w=i()(b,2),_=w[0],k=w[1],S=o.useState(!1),P=i()(S,2),O=P[0],T=P[1],L=o.useState(""),R=i()(L,2),B=R[0],F=R[1],D=o.useState(!1),j=i()(D,2),A=j[0],M=j[1],W=(0,l.Ax)(x.id),$=W.createCatalog,N=W.loading,V=W.data,U=W.error,H=(0,c.T2)(),z=(0,h.w)();o.useEffect((function(){if("Catalog"===(null==V?void 0:V.createCatalog.__typename))if(C&&a){var e=V.createCatalog,t=e.id,n=e.version;H({userId:x.id,catalogId:t,version:n,kind:C,itemId:a.id}),Q()}else window.location.assign((0,I.ykG)(V.createCatalog))}),[null==V?void 0:V.createCatalog,C,null==a?void 0:a.id,H,x.id]),o.useEffect((function(){U&&z({message:"",toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[U]);var G=o.useCallback((function(e){k(e.target.value)}),[k]),Y=o.useCallback((function(e){F(e.target.value)}),[F]),Q=o.useCallback((function(){return k(""),F(""),T(!1),M(!1),E&&y&&!V?E():n()}),[n,y,E,V]),X=o.useCallback((function(){var e=_.trim();e.length>0&&$({attributes:{title:e,description:B.trim(),type:v.HQ.LISTS,visibility:A?v.n2.PRIVATE:v.n2.PUBLIC}})}),[_,B,A,$]);return o.createElement(s.v,{isVisible:t,hide:Q,confirmText:o.createElement(r.I,{loading:N,text:"Create"}),isDestructiveAction:!1,onConfirm:X,disableConfirm:!_.trim()||N,hideOnConfirm:!1},o.createElement(d.x,{height:"400px"},o.createElement(d.x,{paddingBottom:"60px"},o.createElement(p.Dx,{scale:"L"},"Create new list")),o.createElement(d.x,{textAlign:"left",width:"400px",sm:{width:"100%"}},o.createElement(d.x,{paddingBottom:"20px"},o.createElement(u.n,{value:_,onChange:G,placeholder:"Give it a name"})),o.createElement(d.x,{paddingBottom:"20px"},O?o.createElement(d.x,{maxHeight:"170px",overflow:"hidden"},o.createElement(u.n,{value:B,onChange:Y,placeholder:"Description",isMultiline:!0,autoFocus:!0})):o.createElement(g.r,{onClick:function(){return T(!0)}},o.createElement(f.F,{scale:"L",color:"ACCENT"},"Add a description"))),o.createElement(d.x,null,o.createElement(m.X,{checked:A,onChange:function(){return M(!A)},textScale:"L"},"Make it private")))))}},59749:(e,t,n)=>{"use strict";n.d(t,{fg:()=>u,mH:()=>g,SZ:()=>m,bN:()=>p,BR:()=>f});var a=n(28655),i=n.n(a),o=n(71439),r=n(23450),l=n.n(r),c=n(36511);function s(){var e=i()(["\n  fragment formatItemsCount_catalog on Catalog {\n    postItemsCount\n    bookEditionItemsCount\n  }\n"]);return s=function(){return e},e}function d(){var e=i()(["\n  fragment getMiroImageForMetadata_catalog on Catalog {\n    catalogItemsConnection: itemsConnection(pagingOptions: {limit: 10}) {\n      items {\n        catalogItemId\n        entity {\n          __typename\n          ... on BookEdition {\n            id\n            cover\n          }\n          ... on Post {\n            previewImage {\n              id\n              alt\n              originalWidth\n              originalHeight\n              focusPercentX\n              focusPercentY\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}var u=function(e){return(0,c.r)().viewerId===e},g=function(e,t,n){var a,i=null===(a=e.catalogItemsConnection)||void 0===a?void 0:a.items.find((function(e){var t,a=e.entity;return"Post"===(null==a?void 0:a.__typename)&&(null===(t=a.previewImage)||void 0===t?void 0:t.id)||n&&"BookEdition"===(null==a?void 0:a.__typename)&&a.cover}));if(i){var o,r=i.entity;if(n&&"BookEdition"===(null==r?void 0:r.__typename)&&r.cover)return{miroId:r.cover,originalWidth:t,originalHeight:t,focusPercentX:10,focusPercentY:10};if("Post"===(null==r?void 0:r.__typename)&&null!==(o=r.previewImage)&&void 0!==o&&o.id){var l=r.previewImage;return{miroId:l.id,originalWidth:l.originalWidth,originalHeight:l.originalHeight,focusPercentX:l.focusPercentX,focusPercentY:l.focusPercentY}}}return null},m=function(e,t){var n=e.bookEditionItemsCount,a=e.postItemsCount,i=a>0?"".concat(e.postItemsCount," ").concat(l()("story",a)):"",o=n>0&&t?"".concat(e.bookEditionItemsCount," ").concat(l()("book",n)):"";return i&&o?"".concat(i,", ").concat(o):i||o},p=(0,o.Ps)(d()),f=(0,o.Ps)(s())},46282:(e,t,n)=>{"use strict";n.d(t,{UV:()=>f,S_:()=>v,Wt:()=>h,uA:()=>I,p9:()=>C});var a=n(319),i=n.n(a),o=n(63038),r=n.n(o),l=n(59713),c=n.n(l),s=n(28655),d=n.n(s),u=n(71439);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){var e=d()(["\n      fragment updateCatalogVersionInCache_catalog on Catalog {\n        version\n      }\n    "]);return p=function(){return e},e}function f(e,t,n){e.writeFragment({id:"Catalog:".concat(t),fragment:(0,u.Ps)(p()),data:{version:n}})}function v(e,t,n){e.modify({id:"Catalog:".concat(t),fields:{itemsConnection:function(e){if(null==e||!e.items)return e;var t=e.items.filter((function(e){return!n.some((function(t){return n={catalogItemId:t},e.__ref==="CatalogItemV2:".concat(JSON.stringify(n));var n}))}));return m(m({},e),{},{items:t})}}})}function h(e,t){e.modify({id:e.identify((0,u.kQ)("ROOT_QUERY")),fields:{catalogsByUser:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=n.DELETE,i={},o=0,l=Object.entries(e);o<l.length;o++){var c=r()(l[o],2),s=c[0],d=c[1];i[s]=s.startsWith(t)?a:d}return i}}})}function I(e,t){e.modify({id:e.identify({__typename:"Catalog",id:t}),fields:{itemsConnection:function(e,t){return t.DELETE}}})}function C(e,t,n,a){e.modify({id:e.identify((0,u.kQ)("ROOT_QUERY")),fields:{catalogsByUser:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,l=o.readField,c={},s="".concat(t,"-").concat(n),d=0,u=Object.entries(e);d<u.length;d++){var g=r()(u[d],2),p=g[0],f=g[1];if(p.startsWith(s)){var v=i()(f.catalogs),h=v.findIndex((function(e){return l("id",e)===a}));if(-1===h)c[p]=f;else{var I=v.splice(h,1),C=r()(I,1),E=C[0];v.unshift(E),c[p]=m(m({},f),{},{catalogs:v})}}else c[p]=f}return c}}})}},57768:(e,t,n)=>{"use strict";n.d(t,{PH:()=>w,xt:()=>_,T_:()=>S,ST:()=>P,T2:()=>O,qY:()=>T,jN:()=>L,oj:()=>B});var a=n(59713),i=n.n(a),o=n(63038),r=n.n(o),l=n(28655),c=n.n(l),s=n(50361),d=n.n(s),u=n(71439),g=n(46829),m=n(67294),p=n(46282),f=n(95760),v=n(14391),h=n(6304),I=n(94945);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(){var e=c()(["\n  fragment editCatalogItemsMutation_postViewerEdge on PostViewerEdge {\n    id\n    catalogsConnection {\n      catalogsContainingThis(type: LISTS) {\n        catalogId\n        version\n        catalogItemIds\n      }\n      predefinedContainingThis {\n        catalogId\n        predefined\n        version\n        catalogItemIds\n      }\n    }\n  }\n"]);return y=function(){return e},e}function x(){var e=c()(["\n  fragment editCatalogItemsMutation_bookEditionViewerEdge on BookEditionViewerEdge {\n    id\n    catalogsConnection {\n      catalogsContainingThis(type: LISTS) {\n        catalogId\n        version\n        catalogItemIds\n      }\n      predefinedContainingThis {\n        catalogId\n        predefined\n        version\n        catalogItemIds\n      }\n    }\n  }\n"]);return x=function(){return e},e}function b(){var e=c()(["\n  mutation EditCatalogItems(\n    $catalogId: String!\n    $version: String!\n    $operations: [CatalogItemMutateOperationInput!]!\n  ) {\n    editCatalogItems(catalogId: $catalogId, version: $version, operations: $operations) {\n      __typename\n      ... on EditCatalogItemsSuccess {\n        version\n        operations {\n          __typename\n          preprend {\n            __typename\n            catalogItemId\n          }\n          append {\n            __typename\n            catalogItemId\n          }\n          move\n        }\n      }\n    }\n  }\n"]);return b=function(){return e},e}var w="temp-cat-item-id",_="temp-cat-version",k=(0,u.Ps)(b()),S=(0,u.Ps)(x()),P=(0,u.Ps)(y());function O(){var e=(0,g.useMutation)(k),t=r()(e,1)[0];return(0,m.useCallback)((function(e){t({variables:{catalogId:e.catalogId,version:e.version,operations:[{preprend:{type:e.kind,id:e.itemId}}]},update:function(t,n){R({viewerId:e.userId,cache:t,result:n,catalogId:e.catalogId,itemId:e.itemId,kind:e.kind,operation:"preprend",predefined:e.predefined}),(0,p.p9)(t,e.userId,v.HQ.LISTS,e.catalogId)}})}),[t])}function T(e,t,n,a,i,o){var r=(0,f.Av)();return(0,g.useMutation)(k,{variables:{catalogId:t,version:n,operations:[{preprend:{type:i,id:a}}]},update:function(n,r){R({viewerId:e,cache:n,result:r,catalogId:t,itemId:a,kind:i,operation:"preprend",predefined:o}),(0,p.p9)(n,e,v.HQ.LISTS,t)},optimisticResponse:{editCatalogItems:{__typename:"EditCatalogItemsSuccess",operations:[{__typename:"EditCatalogItemMutationOperationResponse",preprend:{__typename:"CatalogItemV2",catalogItemId:w},append:null,move:null}],version:_}},onCompleted:function(e){"EditCatalogItemsSuccess"===e.editCatalogItems.__typename&&r.event("post.addToList",{list_id:t,post_id:a})}})}var L=function(e,t,n,a,i,o,r){var l=(0,f.Av)();return(0,g.useMutation)(k,{variables:{catalogId:t,version:n,operations:o.map((function(e){return{delete:{itemId:e}}}))},update:function(n,l){R({viewerId:e,cache:n,result:l,catalogId:t,itemId:a,kind:i,operation:"delete",predefined:r,deletedCatalogItemIds:o}),(0,p.S_)(n,t,o),(0,p.p9)(n,e,v.HQ.LISTS,t)},optimisticResponse:{editCatalogItems:{__typename:"EditCatalogItemsSuccess",operations:o.map((function(e){return{__typename:"EditCatalogItemMutationOperationResponse",append:null,preprend:null,move:null}})),version:_}},onCompleted:function(e){"EditCatalogItemsSuccess"===e.editCatalogItems.__typename&&l.event("post.removeFromList",{list_id:t,post_id:a})}})};function R(e){var t,n=e.cache,a=e.result,o=e.catalogId,r=e.viewerId,l=e.itemId,c=e.kind,s=e.operation,u=e.predefined,g=e.deletedCatalogItemIds,m=null===(t=a.data)||void 0===t?void 0:t.editCatalogItems;if("EditCatalogItemsSuccess"===(null==m?void 0:m.__typename)){var f,C,y;if((0,p.UV)(n,o,m.version),c===v.ej.BOOK_EDITION)f=(0,h.j)(l,r),C="BookEditionViewerEdge",y=S;else{if(c!==v.ej.POST)return;f=(0,I.Q)(l,r),C="PostViewerEdge",y=P}var x="".concat(C,":").concat(f),b=n.readFragment({id:x,fragment:y});if(null!=b&&b.catalogsConnection){var w=m.operations,_=m.version,k=w[0];if(!k||"move"===s)return;var O=d()(u?b.catalogsConnection.predefinedContainingThis:b.catalogsConnection.catalogsContainingThis),T=O.findIndex((function(e){return u?e.predefined===u:e.catalogId===o}));if("append"===s||"preprend"===s){var L=k[s];if(-1!==T)O[T].catalogItemIds.push(L.catalogItemId);else{var R={catalogId:o,version:_,catalogItemIds:[L.catalogItemId]};u&&(R.predefined=u),O.push(R)}}else if("delete"===s&&-1!==T&&g){var B=O[T].catalogItemIds;O[T].catalogItemIds=B.filter((function(e){return!g.includes(e)})),0===O[T].catalogItemIds.length&&O.splice(T,1)}n.writeFragment({id:x,fragment:y,data:E(E({},b),{},{catalogsConnection:E(E({},null==b?void 0:b.catalogsConnection),{},i()({},u?"predefinedContainingThis":"catalogsContainingThis",O))})})}}}function B(e,t,n,a){return(0,g.useMutation)(k,{variables:{catalogId:e,version:t,operations:n},update:function(t){(0,p.uA)(t,e)},onCompleted:a})}},94411:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>I,ok:()=>C,h6:()=>y,o:()=>x});var a=n(63038),i=n.n(a),o=n(28655),r=n.n(o),l=n(71439),c=n(46829),s=n(46282),d=n(95760),u=n(66137),g=n(27952);function m(){var e=r()(["\n  mutation EditCatalogItemAnnotation(\n    $catalogId: String!\n    $catalogItemId: String!\n    $annotation: CatalogItemAnnotationInput\n  ) {\n    editCatalogItemAnnotation(\n      catalogId: $catalogId\n      catalogItemId: $catalogItemId\n      annotation: $annotation\n    ) {\n      __typename\n      ... on CatalogItemV2 {\n        catalogId\n        catalogItemId\n        userAnnotation {\n          annotation\n        }\n        entity {\n          __typename\n          ... on Post {\n            id\n          }\n          ... on BookEdition {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return m=function(){return e},e}function p(){var e=r()(["\n  mutation DeleteCatalog($catalogId: String!) {\n    deleteCatalog(catalogId: $catalogId) {\n      __typename\n      ... on MutationSuccess {\n        success\n      }\n    }\n  }\n"]);return p=function(){return e},e}function f(){var e=r()(["\n  mutation UpdateCatalog($catalogId: String!, $attributes: UpdateCatalogInput!) {\n    updateCatalog(catalogId: $catalogId, attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n        description\n      }\n    }\n  }\n"]);return f=function(){return e},e}function v(){var e=r()(["\n  mutation CreateCatalog($attributes: CreateCatalogInput!) {\n    createCatalog(attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n        version\n        creator {\n          id\n        }\n        ...catalogUrl_catalog\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var h=(0,l.Ps)(v(),g.UiF);function I(e){var t=(0,d.Av)(),n=(0,c.useMutation)(h,{update:function(t){(0,s.Wt)(t,e)},onCompleted:function(e){var n=e.createCatalog;"Catalog"===n.__typename&&t.event("list.new",{listId:n.id,listName:n.name,userId:n.creator.id,privacyLevel:u.eF[n.visibility]})}}),a=i()(n,2),o=a[0],r=a[1];return{createCatalog:function(e){return o({variables:e})},loading:r.loading,data:r.data,error:r.error}}var C=(0,l.Ps)(f()),E=(0,l.Ps)(p());function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onCompleted;return(0,c.useMutation)(E,{onCompleted:n,update:function(t){(0,s.Wt)(t,e)}})}var x=(0,l.Ps)(m())},25752:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var a=n(67294).createContext({isFetching:!1})},67900:(e,t,n)=>{"use strict";n.d(t,{P:()=>h});var a=n(34575),i=n.n(a),o=n(93913),r=n.n(o),l=n(81506),c=n.n(l),s=n(2205),d=n.n(s),u=n(78585),g=n.n(u),m=n(29754),p=n.n(m),f=n(67294),v=n(25752);var h=function(e){d()(o,e);var t,n,a=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=p()(t);if(n){var i=p()(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return g()(this,e)});function o(e){var t;return i()(this,o),(t=a.call(this,e)).bottomEdgeEl=void 0,t.maybeFetch=void 0,t.state={isFetching:!1},t.maybeFetch=t._maybeFetch.bind(c()(t)),t}return r()(o,[{key:"componentDidMount",value:function(){this.attachScrollListener(),this._maybeFetch()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener()}},{key:"_maybeFetch",value:function(){var e=this;if(this.bottomEdgeEl&&!this.state.isFetching){var t=this.props.fetchMore;if(t){var n=this.bottomEdgeEl.getBoundingClientRect(),a=window.innerHeight;n.top-a<3*a&&(this.setState({isFetching:!0}),t().then((function(){e.setState({isFetching:!1}),e._maybeFetch()})))}}}},{key:"attachScrollListener",value:function(){window.addEventListener("scroll",this.maybeFetch),window.addEventListener("resize",this.maybeFetch)}},{key:"detachScrollListener",value:function(){window.removeEventListener("scroll",this.maybeFetch),window.removeEventListener("resize",this.maybeFetch)}},{key:"render",value:function(){var e=this,t=this.props.children;return f.createElement(v.z.Provider,{value:{isFetching:this.state.isFetching}},f.createElement("div",null,t,f.createElement("div",{ref:function(t){e.bottomEdgeEl=t}})))}}]),o}(f.Component)},42560:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var a=n(67294),i=n(82318),o=n(29637),r=n(98024),l=n(6688),c=n(87598),s=function(e){var t=e.items,n=(0,l.I)(),s=(0,c.G)();return a.createElement("div",{className:n(o.wf)},a.createElement("ul",{className:n(o._I)},t.map((function(e,t){var l=e.title,c=e.href,d=s(c);return a.createElement("li",{className:n((0,o.LE)(d)),key:t},a.createElement(r.F,{scale:"M",color:d?"DARKER":"LIGHTER"},a.createElement(i.r,{href:c},l)))}))))}},29637:(e,t,n)=>{"use strict";n.d(t,{wf:()=>s,_I:()=>d,LE:()=>u,LU:()=>g});var a=n(10429),i=n(67294),o=n(82318),r=n(98024),l=n(6688),c=n(87598),s=function(e){return{borderBottom:"1px solid ".concat(e.baseColor.border.lighter)}},d={listStyleType:"none",margin:0,whiteSpace:"nowrap",overflowX:"auto",marginBottom:"-1px"},u=function(e){return function(t){return{display:"inline-block",lineHeight:"40px",marginRight:"20px",paddingBottom:"8px",borderBottom:e?"1px solid ".concat(t.baseColor.border.dark):"none",outline:"none"}}},g=function(e){var t=e.items,n=(0,l.I)(),g=(0,c.G)();return i.createElement(a.mQ,{className:n(s)},i.createElement(a.td,{as:"ul",className:n(d)},t.map((function(e,t){var l=e.title,c=e.href,s=g(c);return i.createElement(a.OK,{as:"li",className:n(u(s)),key:t},i.createElement(r.F,{scale:"M",color:s?"DARKER":"LIGHTER"},i.createElement(o.r,{href:c},l)))}))))}},43791:(e,t,n)=>{"use strict";n.d(t,{n:()=>T});var a=n(67154),i=n.n(a),o=n(63038),r=n.n(o),l=n(6479),c=n.n(l),s=n(67294),d=n(42933),u=n(98024),g=n(18579),m=n(6688);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var f=s.createElement("path",{fill:"#CC5454",d:"M13.3 13.9l.14-7.08h-1.78l.15 7.08h1.48zm-.74 1.43c-.68 0-1.13.44-1.13 1.12 0 .67.45 1.12 1.13 1.12.68 0 1.13-.45 1.13-1.12 0-.68-.44-1.12-1.12-1.12"}),v=s.createElement("path",{fill:"#CC5454",d:"M12.5 21a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17zm0 1a9.5 9.5 0 1 1 0-19 9.5 9.5 0 0 1 0 19z"});const h=function(e){return s.createElement("svg",p({width:25,height:25,viewBox:"0 0 25 25"},e),f,v)};var I=function(e){return{padding:"4px 0",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit",textAlign:"inherit",borderWidth:0,outline:0,"::placeholder":{color:e.baseColor.text.lighter,opacity:.5}}},C={border:0,flex:1,overflow:"hidden",resize:"none",width:"100%"},E=function(e){if(e.current){e.current.rows=1;var t=e.current.scrollHeight/parseInt(getComputedStyle(e.current).lineHeight);e.current.rows=t}},y=function(e){var t=e.value,n=e.ariaLabel,a=e.autoFocus,i=e.onChange,o=e.placeholder,r=s.useRef(null),l=s.useCallback((function(e){i&&i(e),E(r)}),[i,r]);s.useEffect((function(){return E(r)}),[t]);var c=(0,m.I)();return s.createElement("textarea",{"aria-label":n,autoFocus:a,className:c([I,C]),placeholder:o,onChange:l,ref:r,rows:1,value:t})},x=function(e){var t=e.count,n=void 0===t?0:t,a=e.limit,i=(0,m.I)();return s.createElement(u.F,{scale:"S"},s.createElement("span",{className:i((function(e){return{color:n>a?e.errorColor:e.baseColor.text.dark}}))},n),"/",a)},b={flex:"1"},w=function(e){var t=e.value,n=e.ariaLabel,a=e.autoFocus,i=e.isPassword,o=e.onChange,r=e.placeholder,l=e.name,c=(0,m.I)();return s.createElement("input",{"aria-label":n,className:c([[I,b]]),type:i?"password":"text",placeholder:r,value:t,name:l,onChange:o,autoFocus:a})},_=function(e){return{borderWidth:"0px 0px 1px 0px",background:"linear-gradient(to right, ".concat(e.baseColor.text.normal,", 90%, white 100%)"),"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",color:"transparent",whiteSpace:"nowrap",overflow:"hidden",width:"100%"}},k=function(e){var t=e.value,n=(0,m.I)();return s.createElement("p",{key:t,className:n([I,_])},t)},S=function(e){return{fontWeight:e.newFonts.detail.boldWeight}},P=function(e){var t=e.hasError,n=e.isFocused,a=e.theme;return t&&n||t?a.errorColor:n?a.baseColor.border.dark:a.baseColor.border.light},O=function(e){var t=e.hasError,n=e.isFocused,a=e.omitBorder;return function(e){return{display:"flex",width:"100%",borderStyle:"solid",borderWidth:a&&!t?0:"0px 0px 1px 0px",borderColor:P({hasError:t,isFocused:n,theme:e})}}},T=function(e){var t,n=e.characterCountLimit,a=e.description,o=e.errorMessage,l=e.isEditable,p=void 0===l||l,f=e.isMultiline,v=void 0!==f&&f,I=e.label,C=e.omitBorder,E=e.onFocus,b=e.isPassword,_=void 0!==b&&b,P=e.scale,T=void 0===P?"M":P,L=e.hideErrorIcon,R=void 0!==L&&L,B=e.bold,F=void 0!==B&&B,D=c()(e,["characterCountLimit","description","errorMessage","isEditable","isMultiline","label","omitBorder","onFocus","isPassword","scale","hideErrorIcon","bold"]),j=D.autoFocus,A=D.onBlur,M=!!o,W=(0,m.I)(),$=s.useState(!!j),N=r()($,2),V=N[0],U=N[1],H=s.useCallback((function(e){E&&E(e),U(!0)}),[E,U]),z=s.useCallback((function(e){A&&A(e),U(!1)}),[A,U]),G=(0,g.n)({name:"detail",scale:"S",color:"ERROR"}),Y=(0,g.n)({name:"detail",scale:T,color:"DARKER"});return s.createElement("span",{className:W(F?[Y,S]:Y)},s.createElement(d.x,{display:"flex",flexDirection:"column",width:"100%"},I&&s.createElement("label",{className:W({marginBottom:"10px"})},I),s.createElement("div",{onFocus:H,onBlur:z,className:W(O({hasError:M,isFocused:V,omitBorder:C}))},v?s.createElement(y,D):p?s.createElement(w,i()({},D,{isPassword:_})):s.createElement(k,D),M&&!R&&s.createElement("span",{style:{paddingLeft:"10px"}},s.createElement(h,null))),s.createElement(d.x,{marginTop:"4px",display:"flex",justifyContent:"space-between"},M?s.createElement("h4",{className:W([G,{width:"100%",textAlign:"inherit"}])},o):s.createElement(u.F,{scale:"S"},a),!!n&&s.createElement(x,{count:null===(t=D.value)||void 0===t?void 0:t.length,limit:n}))))}},32580:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O,G:()=>T});var a=n(28655),i=n.n(a),o=n(71439),r=n(67294),l=n(70405),c=n(42933),s=n(82318),d=n(87561),u=n(98024),g=n(6688),m=n(67297),p=n(27952),f=function(e){return{display:"flex",flexDirection:"column",alignItems:"center",borderWidth:"1px",textAlign:"center",borderStyle:"dashed",borderColor:e.baseColor.border.light,padding:"59px 10px",maxWidth:"680px"}},v=function(){var e=(0,m.v9)((function(e){return e.config.authDomain})),t=(0,g.I)();return r.createElement("div",{className:t(f)},r.createElement(c.x,{paddingBottom:"6px",maxWidth:"400px"},r.createElement(d.QE,{scale:"S",color:"DARKER"},"Make lists of your favorite stories and books on Medium, even add a little commentary.")),r.createElement(c.x,null,r.createElement(s.r,{href:(0,p.cWJ)(e)},r.createElement(u.F,{scale:"M",color:"ACCENT"},"Get started"))))},h=n(16330),I=n(80122),C=n(26463),E=n(76532),y=n(67900),x=n(30027),b=n(19464),w=n(55099),_=n(42560),k=n(37278),S=n(51512);function P(){var e=i()(["\n  fragment YourCatalogsScreen_catalog on Catalog {\n    id\n    ...CatalogsListItem_catalog\n  }\n  ","\n"]);return P=function(){return e},e}var O=function(e){var t=e.catalogs,n=e.fetchMore,a=t.filter((function(e){return!e.predefined})),i=(0,E.H)(),o=i.value;return i.loading||!o?null:r.createElement(S.cW,{source:{name:"lists"}},r.createElement(l.q,null,r.createElement("title",null,"Your lists"),r.createElement("meta",{name:"title",content:"Your lists"})),r.createElement(c.x,{paddingBottom:"50px",backgroundColor:"BACKGROUND"},r.createElement(C.kw,null),r.createElement(x.P,{size:"outset"},r.createElement(c.x,{maxWidth:"740px"},r.createElement(c.x,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",xs:{marginTop:"20px"},sm:{marginTop:"20px"},md:{marginTop:"-20px"},lg:{marginTop:"-20px"},xl:{marginTop:"-20px"}},r.createElement(k.X6,{scale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},tag:"h1"},"Your lists"),r.createElement(c.x,null,r.createElement(b.B,null,(function(e){var t=e.hide,n=e.isVisible,a=e.show;return r.createElement(r.Fragment,null,r.createElement(w.z,{size:"LARGE",buttonStyle:"STRONG",onClick:a},"New list"),r.createElement(I.a,{isVisible:n,hide:t,viewer:o}))})))),r.createElement(_.s,{items:[{title:"Lists",href:(0,p.be7)()},{title:"Highlights",href:(0,p.S0c)()},{title:"Recently viewed",href:(0,p.hGr)()}]}),r.createElement(c.x,{marginTop:"32px",xs:{display:"flex",justifyContent:"center"},sm:{display:"flex",justifyContent:"center"}},r.createElement(y.P,{fetchMore:n},t.map((function(e,t){return r.createElement(S.cW,{key:e.id,extendSource:!0,source:{index:t,catalogId:e.id}},r.createElement(h.lb,{catalog:e}))})))),0===a.length&&r.createElement(v,null)))))},T=(0,o.Ps)(P(),h.ci)},6304:(e,t,n)=>{"use strict";function a(e,t){return"bookEditionId:".concat(e,"-viewerId:").concat(t)}n.d(t,{j:()=>a})},51299:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var a=n(63038),i=n.n(a),o=n(67294),r=n(77180),l=n(27108),c=function(){var e=(0,r.F)(),t=o.useState("lg"),n=i()(t,2),a=n[0],c=n[1],s=function(){window.innerWidth>=e.breakpoints.xl?c("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?c("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?c("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?c("sm"):c("xs")};return o.useEffect((function(){return s(),l.V6.on("resize",s),function(){return l.V6.off("resize",s)}}),[]),a}},87598:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var a=n(5977),i=n(67297),o=n(96879),r=function(){var e=(0,a.TH)(),t=(0,i.v9)((function(e){return e.navigation.hostname}));return function(n){return(0,o.z9)(n,t,e)}}},94945:(e,t,n)=>{"use strict";function a(e,t){return"postId:".concat(e,"-viewerId:").concat(t)}n.d(t,{Q:()=>a})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/6084.327106a2.chunk.js.map